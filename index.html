<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="google-site-verification" content="SyOFL1enPAoQ4IZbTniF2DEgJc5HNRORE1eCDU8nC6g" />




















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.0.6" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.0.6">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.0.6">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.0.6">


  <link rel="mask-icon" href="/images/logo.svg?v=6.0.6" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.0.6',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="learn">
<meta property="og:type" content="website">
<meta property="og:title" content="sylar&#39;s blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="sylar&#39;s blog">
<meta property="og:description" content="learn">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="sylar&#39;s blog">
<meta name="twitter:description" content="learn">






  <link rel="canonical" href="http://yoursite.com/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>sylar's blog</title>
  




<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115901048-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115901048-1');
</script>






  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> 

<div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">sylar's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Linux从入门到入土</p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        
          
  <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br />关于</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />标签</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br />分类</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />归档</a>
</li>

      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />搜索</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>


  



 </div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2014/12/15/python基础(十一)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sylar">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="sylar's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/12/15/python基础(十一)/" itemprop="url">python基础(十一)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-12-15T08:55:29+08:00">2014-12-15</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="面向对象和类"><a href="#面向对象和类" class="headerlink" title="面向对象和类"></a>面向对象和类</h1><h2 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h2><p>面向对象,简单来说用类对一切对象进行描述的一种编程思维和方法.在这里就不多做介绍(因为我也只是意会到一点点).根据面向对象的概念,我们需要注意的几个概念:</p>
<ul>
<li><p>类(Class): 用来描述具有相同的属性和方法的对象的集合.它定义了该集合中每个对象所共有的属性和方法.</p>
</li>
<li><p>对象(Object)：通过类定义的数据结构实例.对象包括两个数据成员（类变量和实例变量）和方法。</p>
</li>
</ul>
<ul>
<li><p>类变量：类变量在整个实例化的对象中是公用的,类变量定义在类中且在函数体之外,类变量通常不作为实例变量使用.</p>
</li>
<li><p>实例变量：定义在方法中的变量,只作用于当前实例.</p>
</li>
<li><p>数据成员：类变量或者实例变量用于处理类及其实例对象的相关的数据。</p>
</li>
<li><p>方法：类中定义的函数.</p>
</li>
<li><p>继承：即一个派生类（derived class）继承基类（base class）的字段和方法.也称为父类和子类</p>
</li>
<li><p>方法重写：如果从父类继承的方法不能满足子类的需求,可以对其进行改写.</p>
</li>
<li><p>实例化：创建一个类的实例,类到具体对象的过程</p>
</li>
<li><p>属性: 不管是变量或者是方法,都称为属性.变量一般称为静态属性,方法称为动态属性</p>
</li>
</ul>
<p>面向对象的三大特性</p>
<p>1, 封装: 把客观事物封装成抽象的类，并且类可以把自己的数据和方法只让可信的类或者对象操作，对不可信的进行信息隐藏.</p>
<p>2, 继承: 让不同类型的对象获得其它类型对象的属性和方法.</p>
<p>3, 多态: 实现接口重用, 即可以不同类型对象使用相同的方法,也可以一个对象的相同方法在不同情形有不同的表现形式</p>
<h2 id="类"><a href="#类" class="headerlink" title="类"></a>类</h2><h3 id="类的封装-基本构成和使用"><a href="#类的封装-基本构成和使用" class="headerlink" title="类的封装,基本构成和使用"></a>类的封装,基本构成和使用</h3><p>1, 创建类,先来看例子</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class Test(object):</span><br><span class="line">	&apos;&apos;&apos;class_doc&apos;&apos;&apos;</span><br><span class="line">    class_var = &apos;class_var&apos;</span><br><span class="line"></span><br><span class="line">    def class_func(self):</span><br><span class="line">        obj_var = &apos;obj_var&apos;</span><br><span class="line">        print(obj_var)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class		|	定类的关键字通常类的首字母使用大写</span><br><span class="line">object		|	新式类的所有类的基类,经典类和新式类在后面阐述,python3中建议使用这种形式定义类</span><br><span class="line">class_doc	|	类的文档,可以通过__doc__方法查看</span><br><span class="line">obj_var		|	实例变量,需要对类进行实例化生成对象后,才能通过对象是属于具体实例的.静态属性</span><br><span class="line">def			|	定义类方法的关键字,和普通函数作用相同.动态属性</span><br><span class="line">self		|	类方法必须有的参数,代表的是实例自身</span><br><span class="line">class_var	|	类变量,可以在外部直接调用,不需要先进行实例话</span><br></pre></td></tr></table></figure>
<p>2, 实例化,在python中使用类似函数调用的方式实例化类,并没有其它语言中的特殊关键字</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">t1 = Test()</span><br><span class="line">#t1 就是类Test的具体对象</span><br></pre></td></tr></table></figure>
<p>3, 访问属性,同样是上例子</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class Test(object):</span><br><span class="line"></span><br><span class="line">    class_var = &apos;class_var&apos;</span><br><span class="line"></span><br><span class="line">    def obj_func(self):</span><br><span class="line">        obj_var = &apos;obj_var&apos;</span><br><span class="line">        print(obj_var)</span><br><span class="line"></span><br><span class="line">t1 = Test()</span><br><span class="line">Test.class_var = &apos;modify from Test&apos;</span><br><span class="line">print(Test.class_var)</span><br><span class="line">#print(Test.obj_func())</span><br><span class="line"></span><br><span class="line">t1.class_var = &apos;modify from t1&apos;</span><br><span class="line">print(&apos;Test:&apos;,Test.class_var)</span><br><span class="line">print(t1.class_var)</span><br><span class="line">print(t1.obj_func())</span><br><span class="line">#print(t1.obj_var)</span><br></pre></td></tr></table></figure>
<p>我们可以发现几个情况:</p>
<ul>
<li>(1)类变量不需要实例化可以访问,实例在实例化后会共用类变量,</li>
<li>(2)不能通过实例修改类变量,修改的自身的那份类变量.相当于新生成了一个实例变量.</li>
<li>(3)类里定义的方法通常没有实例化,是不能访问.</li>
<li>(4)类方法里定义的实例变量是不能在外部直接调用的.</li>
</ul>
<p>4, 类的内置方法,可以查看一些类的基本信息.(有些属性实例不能使用.)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">__init__		|	构造方法</span><br><span class="line">__del__			|	析构函数</span><br><span class="line">__name__		|	查看类名</span><br><span class="line">__dict__		|	查看类属性成员 </span><br><span class="line">__doc__			|	查看类文档</span><br><span class="line">__class__		|	查看对象所属的类</span><br><span class="line">__module__		|	查看对象所在模块</span><br><span class="line">__bases__		|	查看基类</span><br><span class="line">__mro__			|	查看继承顺序</span><br><span class="line">__call__		|	让实例化的对象可调用(即可以加执行符号())</span><br><span class="line">__str__			|	打印对象是,返回这个方法的值,通常用在实例化的对象定制信息</span><br><span class="line">__getitem__		|	见第9小点</span><br><span class="line">__setitem__		|	见第9小点</span><br><span class="line">__delitem__		|	见第9小点</span><br><span class="line">__new__			|	实例化方法</span><br><span class="line">__slots__		|	限制类属性</span><br><span class="line">__metaclass__	|	查看元类</span><br></pre></td></tr></table></figure>
<p>5, 构造函数,类的实例化时执行的函数,通常用来实现对象的初始化.__init___</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">class Test():</span><br><span class="line">	name = &apos;class_var&apos;</span><br><span class="line">    def __init__(self,name,choice=None):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.choice = choice</span><br><span class="line"></span><br><span class="line">        if self.choice == &apos;yes&apos;:</span><br><span class="line">            self.say_hello()</span><br><span class="line">        else:</span><br><span class="line">            self.other()</span><br><span class="line"></span><br><span class="line">    def say_hello(self):</span><br><span class="line">        print(&apos;Welcome,%s&apos;%self.name)</span><br><span class="line">    def other(self):</span><br><span class="line">        print(&apos;No choice&apos;)</span><br><span class="line"></span><br><span class="line">t1 = Test(&apos;sylar&apos;,&apos;yes&apos;)</span><br><span class="line">print(t1.name)</span><br><span class="line">#Test.name</span><br><span class="line">t2 = Test(&apos;tom&apos;)</span><br></pre></td></tr></table></figure>
<p>通过这个例子可以发现,构造函数中定义的属性是针对实例本身,并且也印证了类中的关键字self是指对象而不是类</p>
<p>6, 析构函数,__del__()也是可选的，如果不提供，则Python 会在后台提供默认析构函数.在对象销毁时自动执行的函数,显示的执行可以使用del obj</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import time</span><br><span class="line"></span><br><span class="line">class del_test(object):</span><br><span class="line"></span><br><span class="line">    def say_bye(self):</span><br><span class="line">        print(&apos;see you next time&apos;)</span><br><span class="line"></span><br><span class="line">    def __del__(self):</span><br><span class="line">        self.say_bye()</span><br><span class="line"></span><br><span class="line">o1 = del_test()</span><br><span class="line">del o1</span><br><span class="line">time.sleep(3)</span><br><span class="line">o2 = del_test()</span><br></pre></td></tr></table></figure>
<p>7, 私有属性,无法在外部调用,但是可以在内部调用,从而隐藏某些属性或方法.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class Test(object):</span><br><span class="line">    def __init__(self,name,id_status):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.__status = id_status</span><br><span class="line"></span><br><span class="line">    def show_status(self):</span><br><span class="line">        print(self.__status)</span><br><span class="line"></span><br><span class="line">t1 = Test(&apos;sylar&apos;,&apos;some info&apos;)</span><br><span class="line">t1.show_status()</span><br><span class="line">t1.__status</span><br></pre></td></tr></table></figure>
<blockquote>
<p>单下划线、双下划线、头尾双下划线说明：  </p>
<p><strong>foo</strong>: 定义的是特殊方法,一般是系统定义名字,类似 <strong>init</strong>() 之类的.</p>
<p>_foo: 以单下划线开头的表示的是 protected 类型的变量,即保护类型只能允许其本身与子类进行访问,不能用于 from module import *</p>
<p>__foo: 双下划线的表示的是私有类型(private)的变量, 只能是允许这个类本身进行访问了.</p>
</blockquote>
<p>8, <strong>call</strong>方法,让不可执行的对象变的可执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class Animal(object):</span><br><span class="line">    def __call__(self, *args, **kwargs):</span><br><span class="line">        print(&apos;call func&apos;)</span><br><span class="line"></span><br><span class="line">t = Animal()</span><br><span class="line">t()</span><br><span class="line">Animal()()</span><br></pre></td></tr></table></figure>
<p>9, __getitem__,__setitem__,__delitem__.用类模拟类似字典的操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class Test(object):</span><br><span class="line">    def __getitem__(self,key):</span><br><span class="line">        print(&apos;__getitem__:&apos;,key)</span><br><span class="line">    def __setitem__(self, key, value):</span><br><span class="line">        print(&apos;__setitem__:&apos;,key,value)</span><br><span class="line">    def __delitem__(self, key):</span><br><span class="line">        print(&apos;__delitem__:&apos;,key)</span><br><span class="line">t1 = Test()</span><br><span class="line">t1[&apos;name&apos;]</span><br><span class="line">t1[&apos;name&apos;] = &apos;sylar&apos;</span><br><span class="line">del t1[&apos;name&apos;]</span><br></pre></td></tr></table></figure>
<h3 id="类的继承"><a href="#类的继承" class="headerlink" title="类的继承"></a>类的继承</h3><p>1, 继承,代码重用,派生类(子类)会完全继承基类(父类)的所有属性.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">class Base_Class(object):</span><br><span class="line">    def __init__(self,name):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.say_hi()</span><br><span class="line">    def say_hi(self):</span><br><span class="line">        print(&apos;Welcome, %s!&apos;%self.name)</span><br><span class="line">    def call_me(self):</span><br><span class="line">        print(&quot;%s&quot;%self.name)</span><br><span class="line"></span><br><span class="line">class Sub_Class(Base_Class):</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">t1 = Sub_Class(&apos;sylar&apos;)</span><br><span class="line">t1.call_me()</span><br></pre></td></tr></table></figure>
<p>2, 方法重写: 当子类中定义的属性或方法和父类重名时,子类会覆盖父类中的定义.有些时候需要父类的方法,又需要做一些改动.可以直接在子类中调用父类的方法然后再添加新的代码,或者使用super函数.(建议使用super)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">class Base_Class(object):</span><br><span class="line">    def __init__(self,name):</span><br><span class="line">        self.name = name</span><br><span class="line">    def call_me(self):</span><br><span class="line">        print(&quot;%s&quot;%self.name)</span><br><span class="line"></span><br><span class="line">class Sub_Class(Base_Class):</span><br><span class="line">    def call_me(self):</span><br><span class="line">        #super(Sub_Class,self).call_me()</span><br><span class="line">        Base_Class.call_me(self)</span><br><span class="line">        print(&apos;modify for Sub_Class&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">t1 = Sub_Class(&apos;sylar&apos;)</span><br><span class="line">t1.call_me()</span><br></pre></td></tr></table></figure>
<p>3, 多继承顺序,又分为经典类和新式类,在python3中默认都是使用广度优先. 使用<strong>mro</strong>方法可以查看继承的查找顺序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">class Base_A:</span><br><span class="line">    def __init__(self):</span><br><span class="line">        print(&apos;from A&apos;)</span><br><span class="line"></span><br><span class="line">class Base_B(Base_A):</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">class Base_C(Base_A):</span><br><span class="line">    def __init__(self):</span><br><span class="line">        print(&apos;from C&apos;)</span><br><span class="line"></span><br><span class="line">class Sub_Class(Base_B,Base_C):</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">t1 = Sub_Class()</span><br><span class="line">print(Sub_Class.__mro__)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>这段经典类的代码在python2X 输出为’from A’深度优先,在python3x输出为’from C’广度优先<br>python2 的新式类使用的广度优先</p>
</blockquote>
<h3 id="类的多态"><a href="#类的多态" class="headerlink" title="类的多态"></a>类的多态</h3><p>接口重用,使用统一的接口对子类的方法进行调用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">class Animal(object):</span><br><span class="line">    @staticmethod</span><br><span class="line">    def run_func(obj):</span><br><span class="line">        obj.run()</span><br><span class="line"></span><br><span class="line">class Cat(Animal):</span><br><span class="line">    def run(self):</span><br><span class="line">        print(&apos;Cat is running&apos;)</span><br><span class="line"></span><br><span class="line">class Mouse(Animal):</span><br><span class="line">    def run(self):</span><br><span class="line">        print(&apos;Mouse is running&apos;)</span><br><span class="line"></span><br><span class="line">c1 = Cat()</span><br><span class="line">m1 = Mouse()</span><br><span class="line">Animal.run_func(c1)</span><br><span class="line">Animal.run_func(m1)</span><br></pre></td></tr></table></figure>
<h3 id="类内置装饰器"><a href="#类内置装饰器" class="headerlink" title="类内置装饰器"></a>类内置装饰器</h3><p>1, 静态方法 staticmethod不能访问类和实例属性,相当于和类本身没有什么关系,只是需要通过类名来调用这个方法.而且实例化后self也不会被传入到这个方法中.前面的多态就是一种使用场景.</p>
<p>2, 类方法 classmethod只能访问类变量不能访问实例变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class Animal(object):</span><br><span class="line">    name = &apos;Tom&apos;</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.name = &apos;Jerry&apos;</span><br><span class="line"></span><br><span class="line">    @classmethod</span><br><span class="line">    def run_func(self):</span><br><span class="line">        print(&apos;%s is running&apos;%self.name)</span><br><span class="line"></span><br><span class="line">t = Animal()</span><br><span class="line">t.run_func()</span><br></pre></td></tr></table></figure>
<p>3, 属性方法 把一个方法当作静态属性来使用</p>
<blockquote>
<p>单独使用,不能传参数</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class Animal(object):</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.name = &apos;Jerry&apos;</span><br><span class="line"></span><br><span class="line">    @property</span><br><span class="line">    def run_func(self):</span><br><span class="line">        print(&apos;%s is running&apos;%self.name)</span><br><span class="line"></span><br><span class="line">t = Animal()</span><br><span class="line">t.run_func</span><br></pre></td></tr></table></figure>
<blockquote>
<p>配合setter接受赋值,实现类似传入参数的功能</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">class Animal(object):</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.__who = None</span><br><span class="line"></span><br><span class="line">    @property</span><br><span class="line">    def run_func(self):</span><br><span class="line">        print(&apos;%s is running&apos;%self.__who)</span><br><span class="line"></span><br><span class="line">    @run_func.setter</span><br><span class="line">    def run_func(self,who):</span><br><span class="line">        #print(&apos;set to name&apos;,who)</span><br><span class="line">        self.__who = who</span><br></pre></td></tr></table></figure>
<blockquote>
<p>配合deleter删除,默认property装饰器转换过来的属性是不能删除的.如果要删除就要使用deleter</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">class Animal(object):</span><br><span class="line">    def __init__(self):</span><br><span class="line">        self.__who = None</span><br><span class="line"></span><br><span class="line">    @property</span><br><span class="line">    def run_func(self):</span><br><span class="line">        print(&apos;%s is running&apos;%self.__who)</span><br><span class="line"></span><br><span class="line">    @run_func.setter</span><br><span class="line">    def run_func(self,who):</span><br><span class="line">        #print(&apos;set to name&apos;,who)</span><br><span class="line">        self.__who = who</span><br><span class="line">    @run_func.deleter</span><br><span class="line">    def run_func(self):</span><br><span class="line">        del self.__who</span><br><span class="line">        </span><br><span class="line">t = Animal()</span><br><span class="line">t.run_func = &apos;Tom&apos;</span><br><span class="line">t.run_func</span><br><span class="line">del t.run_func</span><br></pre></td></tr></table></figure>
<h3 id="类的定制-元类-和type"><a href="#类的定制-元类-和type" class="headerlink" title="类的定制(元类)和type"></a>类的定制(元类)和type</h3><p>由于python是解释型语言,所以函数和类的定义不是编译时定义的,而是运行时动态创建的.在python中所有的类都是继承object,并由type方法生成的.type接收三个参数:类名,继承的父类元组,需要绑定的函数. 就可以生成一个类</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">def my_init(self,name):</span><br><span class="line">    self.name = name</span><br><span class="line"></span><br><span class="line">def say_hi(self):</span><br><span class="line">    print(&apos;Hello %s&apos;%self.name)</span><br><span class="line"></span><br><span class="line">Test = type(&apos;Test&apos;, (object,), &#123;&apos;say_hi&apos; : say_hi, &apos;__init__&apos; : my_init,&#125;)</span><br><span class="line">t = Test(&apos;sylar&apos;)</span><br><span class="line">t.say_hi()</span><br></pre></td></tr></table></figure>
<p>1, __new__类的实例化方法,在所有类实例化的时候都是通过new方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">class MyClass(object):</span><br><span class="line">    def __init__(self):</span><br><span class="line">        print(&apos;some code in init!&apos;)</span><br><span class="line"></span><br><span class="line">    def __new__(cls, *args, **kwargs):</span><br><span class="line">        print(&apos;some code in new!&apos;)</span><br><span class="line">        return object.__new__(cls)</span><br><span class="line"></span><br><span class="line">t1 = MyClass()</span><br></pre></td></tr></table></figure>
<ul>
<li>new是执行在init之前的,并且通过return触发init的执行</li>
<li>return object.__new__(cls)相当于super去继承但这时候还没生成self,</li>
<li>cls相当于self,指代MyClass这个类的自身</li>
</ul>
<p>2,metaclass元类,创建类的类,类是metaclass创建的实例.在python中自定义类需要先创建metaclass再创建类.python3和python2的语法有所改变</p>
<blockquote>
<p>python3   </p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">def my_add(self,value):</span><br><span class="line">    self.append(value)</span><br><span class="line"></span><br><span class="line">class ListMetaclass(type):</span><br><span class="line">    def __new__(cls, name, bases, attrs):</span><br><span class="line">        attrs[&apos;my_add&apos;] = my_add	#这里也可以使用lambda</span><br><span class="line">        return type.__new__(cls, name, bases, attrs)</span><br><span class="line"></span><br><span class="line">class MyList(list,metaclass=ListMetaclass):</span><br><span class="line">    pass </span><br><span class="line"></span><br><span class="line">l1= MyList()</span><br><span class="line">l1.my_add(1)</span><br><span class="line">l1.my_add(2)</span><br><span class="line">print(l1)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>python2 </p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class ListMetaclass(type):</span><br><span class="line">    def __new__(cls, name, bases, attrs):</span><br><span class="line">        attrs[&apos;add&apos;] = lambda self, value: self.append(value)</span><br><span class="line">        return type.__new__(cls, name, bases, attrs)</span><br><span class="line"></span><br><span class="line">class MyList(list):</span><br><span class="line">    __metaclass__ = ListMetaclass</span><br></pre></td></tr></table></figure>
<h3 id="属性锁定"><a href="#属性锁定" class="headerlink" title="属性锁定"></a>属性锁定</h3><p>前面已经说了python类的属性可以动态创建的,为了达到限制的目的，Python允许在定义class的时候，定义一个特殊的<strong>slots</strong>变量，来限制该class实例能添加的属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class Test():</span><br><span class="line">    #__slots__ = (&apos;name&apos;,&apos;age&apos;)</span><br><span class="line">    def __init__(self,name,age):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">t = Test(&apos;sylar&apos;,18)</span><br><span class="line">t.job = &apos;it&apos;</span><br></pre></td></tr></table></figure>
<h3 id="反射"><a href="#反射" class="headerlink" title="反射"></a>反射</h3><p>判断类或实例是否有相应的属性,简单来说就是通过字符串来操作类.</p>
<p>hasattr(obj,name_str),判断对象里是否有对应字符串的属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class Test():</span><br><span class="line">    #__slots__ = (&apos;name&apos;,&apos;age&apos;)</span><br><span class="line">    def __init__(self,name,age):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line"></span><br><span class="line">t = Test(&apos;sylar&apos;,18)</span><br><span class="line">choice = input()</span><br><span class="line">res = hasattr(t,choice)</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>
<p>getattr(obj,name_str),根据字符串获取对象相应的属性或是属性的内存地址</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class Test():</span><br><span class="line">    #__slots__ = (&apos;name&apos;,&apos;age&apos;)</span><br><span class="line">    def __init__(self,name,age):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line"></span><br><span class="line">t = Test(&apos;sylar&apos;,18)</span><br><span class="line">choice = input()</span><br><span class="line">res = getattr(t,choice)</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>setattr(obj,name_str,attrs),根据字符串给对象设置相应的属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class Test():</span><br><span class="line">    #__slots__ = (&apos;name&apos;,&apos;age&apos;)</span><br><span class="line">    def __init__(self,name,age):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line"></span><br><span class="line">t = Test(&apos;sylar&apos;,18)</span><br><span class="line">choice = input()</span><br><span class="line">setattr(t,choice,&apos;Tom&apos;)</span><br><span class="line">v = getattr(t,choice)</span><br><span class="line">print(t.name,v)</span><br></pre></td></tr></table></figure>
<p>delattr(obj,name_str),删除字符串对应的属性</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class Test():</span><br><span class="line">    #__slots__ = (&apos;name&apos;,&apos;age&apos;)</span><br><span class="line">    def __init__(self,name,age):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line"></span><br><span class="line">t = Test(&apos;sylar&apos;,18)</span><br><span class="line">choice = input()</span><br><span class="line">delattr(t,choice)</span><br><span class="line">print(t.name)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2014/12/08/python基础(十)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sylar">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="sylar's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/12/08/python基础(十)/" itemprop="url">python基础(十)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-12-08T08:55:29+08:00">2014-12-08</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><h3 id="模块的定义"><a href="#模块的定义" class="headerlink" title="模块的定义"></a>模块的定义</h3><p>模块就是从逻辑上组织的python代码,是.py的python文件.将python文件的目录和目录下各个文件当作模块对象来处理(用import关键字引用,成为当前代码的一部分),而不是作为一般的文件对象来处理(例如通过open来作为单纯的字符串数据).<br>同时分为module模块和package包两个概念,module是文件对象对应的文件,package是路径对象(一个文件夹),对应导入的是文件夹中的<strong>init</strong>.py</p>
<p>模块分为三类:</p>
<p>1,标准库:python解释器内置的基础模块,python官方收录维护的代码.<br>2,开源模块: 由第三方组织提供的代码<br>3,自定义模块: 开发者自己编写维护的代码都称为自定义模块</p>
<h3 id="导入方法"><a href="#导入方法" class="headerlink" title="导入方法"></a>导入方法</h3><p>通常我们可以直接使用import module_name来导入一个模块.同时我们也可以使用from … import …来导入模块中的部分代码.</p>
<p>1, import module_name<br>将一个py文件作为模块引入当前代码,通常用来导入内置或者是已经安装过的第三方模块.(会导入整个.py文件)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#module_test/test1.py</span><br><span class="line">name = &apos;test1&apos;</span><br><span class="line">def run_hello():</span><br><span class="line">    print(&apos;hello world&apos;)</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#module_test/test2.py</span><br><span class="line">import test1</span><br><span class="line">test1.run_hello()</span><br><span class="line">print(test1.name)</span><br></pre></td></tr></table></figure>
<p>2, from package import module_name<br>从一个package中引入py模块(会优先初始化路径下的<strong>init</strong>.py).通常用来导入自定义模块.(会导入整个.py文件)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#module_test/test1.py</span><br><span class="line">name = &apos;test1&apos;</span><br><span class="line">def run_hello():</span><br><span class="line">    print(&apos;hello world&apos;)</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#module_test/test2.py</span><br><span class="line">from module_test import test1</span><br><span class="line">test1.run_hello()</span><br><span class="line">print(test1.name)</span><br></pre></td></tr></table></figure>
<p>3, from package.module_name import fun_name<br>从具体模块中引入指定的代码块,通常封装为函数或者是类<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#module_test/test1.py</span><br><span class="line">name = &apos;test1&apos;</span><br><span class="line">def run_hello():</span><br><span class="line">    print(&apos;hello world&apos;)</span><br><span class="line"></span><br><span class="line">def run_test1():</span><br><span class="line">    print(&apos;in the test1&apos;)</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#module_test/test2.py</span><br><span class="line">from module_test.test1 import run_hello</span><br><span class="line">run_hello()</span><br><span class="line">print(locals())</span><br></pre></td></tr></table></figure>
<p>4, from package.module_name import *<br>类似于from package import module_name的引用方法,但是呢有一个坏处因为不是用module_name来引用模块中的代码,而是直接在当前代码块中引用对象.所以会被当前代码块中的同名对象覆盖.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#module_test/test1.py</span><br><span class="line">name = &apos;test1&apos;</span><br><span class="line">def run_hello():</span><br><span class="line">    print(&apos;hello world&apos;)</span><br><span class="line"></span><br><span class="line">def running_test():</span><br><span class="line">    print(&apos;in the test1&apos;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#module_test/test2.py</span><br><span class="line">from module_test.test1 import *</span><br><span class="line">running_test()</span><br><span class="line">print(locals())</span><br><span class="line">def running_test():</span><br><span class="line">    print(&apos;in the test2&apos;)</span><br><span class="line"></span><br><span class="line">running_test()</span><br></pre></td></tr></table></figure>
<p>5, from package import module_name as alias_name / from package.module_name import fun_name as alias_name<br>使用as关键字给引入的代码块使用一个别名</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#module_test/test2.py</span><br><span class="line">from module_test import test1 as mytest</span><br><span class="line"></span><br><span class="line">print(locals())</span><br><span class="line">def running_test():</span><br><span class="line">    print(&apos;in the test2&apos;)</span><br><span class="line"></span><br><span class="line">running_test()</span><br><span class="line">mytest.running_test()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>or<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#module_test/test2.py</span><br><span class="line">from module_test.test1 import running_test as mytest</span><br><span class="line"></span><br><span class="line">print(locals())</span><br><span class="line">def running_test():</span><br><span class="line">    print(&apos;in the test2&apos;)</span><br><span class="line"></span><br><span class="line">running_test()</span><br><span class="line">mytest()</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>6, 修改<strong>init</strong>.py 在导入包的时候,由于我们执行的是包的<strong>init</strong>.py所以需要在这个文件中对module进行一些定义</p>
<blockquote>
<p>直接导入包会提示找不到模块<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#module_test/test1.py</span><br><span class="line">name = &apos;test1&apos;</span><br><span class="line">def run_hello():</span><br><span class="line">    print(&apos;hello world&apos;)</span><br><span class="line"></span><br><span class="line">def running_test():</span><br><span class="line">    print(&apos;in the test1&apos;)</span><br></pre></td></tr></table></figure></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#module_test/test2.py </span><br><span class="line">import module_test</span><br><span class="line"></span><br><span class="line">module_test.test1.running_test()</span><br></pre></td></tr></table></figure>
<blockquote>
<p>修改<strong>init_</strong>.py 这一步相当于给包下的模块做索引.</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#module_test/test1.py</span><br><span class="line">name = &apos;test1&apos;</span><br><span class="line">def run_hello():</span><br><span class="line">    print(&apos;hello world&apos;)</span><br><span class="line"></span><br><span class="line">def running_test():</span><br><span class="line">    print(&apos;in the test1&apos;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#module_test/__init__.py</span><br><span class="line">from . import test1</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#module_test/test2.py </span><br><span class="line">import module_test</span><br><span class="line"></span><br><span class="line">import module_test</span><br><span class="line"></span><br><span class="line">module_test.test1.running_test()</span><br></pre></td></tr></table></figure>
<h3 id="import-本质"><a href="#import-本质" class="headerlink" title="import 本质"></a>import 本质</h3><p>import的过程简单来说分为三步:</p>
<p>1,根据package,module_name搜索环境变量的路径中是否有module同名的文件,当前路径和sys.path.</p>
<p>2,将搜索到的同名文件或是文件中指定部分代码块载入内存.</p>
<p>3,根据是否使用as判断,默认内存中加载的代码块赋值给module_name或是fun_name.如果使用了as将内存中的代码块赋值给as给出的变量名.</p>
<h2 id="python标准库"><a href="#python标准库" class="headerlink" title="python标准库"></a>python标准库</h2><p>官方文档<a href="https://docs.python.org/3.6/library/" target="_blank" rel="noopener">点击</a></p>
<h3 id="time"><a href="#time" class="headerlink" title="time"></a>time</h3><p>time模块主要是对时间的一些输出格式处理,需要了解unix时间戳(timestamp)和时区等相关概念.time模块中时间是默认以一个元组的方式存储(python称为struct_time)</p>
<ul>
<li>asctime 将时间元组返回为一个英语系标准时间格式输出</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(time.asctime())</span><br></pre></td></tr></table></figure>
<ul>
<li><p>clock 进程所用cpu时间</p>
</li>
<li><p>ctime 将unix时间戳转换为英系标准格式时间, 默认当前时间</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(time.ctime(987654321))</span><br></pre></td></tr></table></figure>
<ul>
<li>gmtime 将一个时间戳返回一个时间信息的元组,默认当前时间</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(time.gmtime(987654321))</span><br></pre></td></tr></table></figure>
<ul>
<li>localtime() 将当前时区的unix时间戳返回为一个时间元组的格式,默认当前时间</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(time.localtime(987654321))</span><br></pre></td></tr></table></figure>
<ul>
<li>mktime 将时间元组以时间戳方式返回</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = time.gmtime()</span><br><span class="line">print(time.mktime(a))</span><br></pre></td></tr></table></figure>
<ul>
<li>process_time 用于分析的进程时间：内核和用户空间CPU时间之和。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(time.process_time())</span><br></pre></td></tr></table></figure>
<ul>
<li>sleep 执行指定秒数的延迟</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(time.sleep(3))</span><br></pre></td></tr></table></figure>
<ul>
<li>strftime 将一个时间元组返回为一个指定格式的字符模式</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = time.gmtime()</span><br><span class="line">print(time.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;,a))</span><br></pre></td></tr></table></figure>
<ul>
<li>strptime strftime的反操作,格式要一致</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = time.gmtime()</span><br><span class="line">b = time.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;,a)</span><br><span class="line">print(time.strptime(b,&quot;%Y-%m-%d %H:%M:%S&quot;))</span><br></pre></td></tr></table></figure>
<ul>
<li>time 以浮点数的方式返回当前时间</li>
</ul>
<blockquote>
<p>补充记住3种时间格式转换方式</p>
</blockquote>
<h3 id="datetime"><a href="#datetime" class="headerlink" title="datetime"></a>datetime</h3><p>time模块的增强功能, 有date,datetime,time,timedelta,tzinfo,timezone几个子模块</p>
<ul>
<li>datetime.now 当前时间</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(datetime.datetime.now())</span><br></pre></td></tr></table></figure>
<ul>
<li>timedelta 对时间进行数学运算</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(datetime.datetime.now()+datetime.timedelta(-10))</span><br><span class="line">print(datetime.datetime.now()+datetime.timedelta(hours=-10))</span><br><span class="line">print(datetime.datetime.now()+datetime.timedelta(minutes=-10))</span><br><span class="line">print(datetime.datetime.now()+datetime.timedelta(seconds=-10))</span><br></pre></td></tr></table></figure>
<h3 id="os"><a href="#os" class="headerlink" title="os"></a>os</h3><p>对操作系统进行调用的接口,</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">os.getcwd()			|	获取当前工作目录</span><br><span class="line">os.chdir()			|	移动工作目录</span><br><span class="line">os.pardir()			|	获取当前父目录</span><br><span class="line">os.makedirs()		|	递归生成多级目录</span><br><span class="line">os.removedirs()		|	删除多级目录</span><br><span class="line">os.mkdir()			|	生成单级目录</span><br><span class="line">os.rmdir()			|	删除单级目录</span><br><span class="line">os.listdir()		|	列出指定目录下文件和子目录,相当于ls -a</span><br><span class="line">os.remove()			|	删除文件</span><br><span class="line">os.rename()			|	重命名文件或目录</span><br><span class="line">os.stat()			|	文件信息</span><br><span class="line">os.sep				|	操作系统的路径分隔符,x = os.sep.encode()</span><br><span class="line">os.linesep			|	查看换行符 x = os.linesep.encode()</span><br><span class="line">os.pathsep			|	多个文件路径字符串之间分隔符</span><br><span class="line">os.name				|	操作系统类别,win为nt,linux为posix</span><br><span class="line">os.system()			|	执行一个操作系统允许执行的命令:os.system(&apos;pwd&apos;)</span><br><span class="line">os.environ()		|	系统环境变量</span><br></pre></td></tr></table></figure>
<p>用的比较多的是路径查询</p>
<ul>
<li>abspath 输出文件绝对路径</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(os.path.abspath(__file__))</span><br></pre></td></tr></table></figure>
<ul>
<li>dirname 返回路径</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(os.path.dirname(__file__))</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">os.path.split() 	|	返回分割目录和文件名的元组</span><br><span class="line">os.path.basename()	|	返回文件名</span><br><span class="line">os.path.exists()	|	判断文件是否存在,返回True或者False</span><br><span class="line">os.path.isabs()		|	判断绝对路径</span><br><span class="line">os.path.isdir()		|	判断目录</span><br><span class="line">os.path.isfile()	|	判断是否为文件</span><br><span class="line">os.path.join()		|	组合多个路径</span><br><span class="line">os.path.getatime()	|	返回文件atime,相应还有ctime,mtime</span><br><span class="line">os.path.getsize()	|	获取文件大小</span><br></pre></td></tr></table></figure>
<blockquote>
<p>补充: 字符串前加r申明字符串不需要转义,例如’\‘符号,通常用在正则和文件地址目录等<br>字符串前加u申明字符串编码为unicode,通常用在申明非英文字符串编码<br>字符串前加b申明字符串为bytes类型,python2中没有意义只是为兼容python3的写法:b’str’ == bytes(‘str’,encoding=’utf8’)</p>
</blockquote>
<h3 id="sys"><a href="#sys" class="headerlink" title="sys"></a>sys</h3><p>python解释器相关操作</p>
<p>官方文档<a href="https://docs.python.org/3.6/library/sys" target="_blank" rel="noopener">点击</a></p>
<p>常用的两个</p>
<ul>
<li><p>sys.argv 获取python执行时的参数,默认为列表,第一个值为文件名</p>
</li>
<li><p>sys.exit 退出python解释器.终止程序的运行</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sys.getdefaultencoding()	|	获取解释器默认编码</span><br><span class="line">sys.path					|	获取解释器默认环境变量path中的路径</span><br><span class="line">sys.platform				|	获取解释器的操作系统</span><br><span class="line">sys.api_version				|	获取解释器的c的api版本</span><br><span class="line">sys.base_exec_prefix		|	解释器执行程序所在目录</span><br><span class="line">sys.builtin_module_names	|	内置模块</span><br><span class="line">sys.exc_info()				|	获取当前进程的信息,此外还有exc_traceback,exc_value等</span><br><span class="line">sys.modules					|	解释器中已导入的模块信息</span><br><span class="line">sys.stderr					|	标准错误对象信息,此外还有stdin,stdout</span><br></pre></td></tr></table></figure>
<ul>
<li>stdin,stdout,std.err</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sys.stdout.write(&apos;please&apos;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = sys.stdin.readline()</span><br><span class="line">print(x)</span><br></pre></td></tr></table></figure>
<h3 id="random"><a href="#random" class="headerlink" title="random"></a>random</h3><ul>
<li>random 取0-1之间的浮点数,uniform方法可以指定范围</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import random</span><br><span class="line">print(random.random())</span><br><span class="line">print(random.uniform(1,10))</span><br></pre></td></tr></table></figure>
<ul>
<li>随机取两个整数之间的值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(random.randint(1,100)) 	#取值范围包含1和100</span><br></pre></td></tr></table></figure>
<ul>
<li>随机取两个整数之间的值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(random.randrange(0,100))	#取值范围包含0,不包含100</span><br></pre></td></tr></table></figure>
<ul>
<li>随机取一个序列(列表,元组,字符串)中的一个值,</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list_test = [&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,&apos;d&apos;]</span><br><span class="line">print(random.choice(list_test))	#choice方法返回值是字符,choices返回值是一个列表</span><br></pre></td></tr></table></figure>
<ul>
<li>随机去一个序列中的多个值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list_test = [&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,&apos;d&apos;]</span><br><span class="line">print(random.sample(list_test,3))</span><br></pre></td></tr></table></figure>
<ul>
<li>随机打乱序列顺序</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">list_test = [&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,&apos;d&apos;]</span><br><span class="line">random.shuffle(list_test)</span><br><span class="line">print(list_test)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>验证码程序<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">def check_code():</span><br><span class="line">    import random</span><br><span class="line">    checkcode=&apos;&apos;</span><br><span class="line">    for i in range(6):							#6位验证码位置循环</span><br><span class="line">        current = random.randrange(0,6)			#随机字母和数字的条件码</span><br><span class="line">        if current == i :						#如果位置码和条件码一致生成字母</span><br><span class="line">        	tmp = chr(random.randint(65,90))</span><br><span class="line">        else:									#负责生成0-9数字</span><br><span class="line">            tmp = random.randint(0,9)</span><br><span class="line">        checkcode += str(tmp)</span><br><span class="line">    return checkcode</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="shutil"><a href="#shutil" class="headerlink" title="shutil"></a>shutil</h3><p>对内置函数open更高级的扩展,处理文件对象操作,复制,压缩</p>
<ul>
<li>copyfileobj 复制文件对象</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">f1 = open(&apos;a.txt&apos;,&apos;rb&apos;)</span><br><span class="line">f2 = open(&apos;b.txt&apos;,&apos;wb&apos;)</span><br><span class="line">shutil.copyfileobj(f1,f2)</span><br></pre></td></tr></table></figure>
<ul>
<li>copyfile 复制文件,调用的copyfileobj方法</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shutil.copyfile(&apos;a.txt&apos;,&apos;c.txt&apos;)</span><br></pre></td></tr></table></figure>
<ul>
<li>copy 复制文件调用copyfile和copymode,复制文件和权限</li>
<li>copy2    复制文件调用copyfile和copystat,复制文件和信息</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shutil.copy(&apos;a.txt&apos;,&apos;d.txt&apos;)</span><br></pre></td></tr></table></figure>
<ul>
<li>move 重命名</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shutil.move(&apos;a.txt&apos;,&apos;e.txt&apos;)</span><br></pre></td></tr></table></figure>
<ul>
<li>chown 修改属主</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shutil.chown(&apos;a.txt&apos;,user=&apos;sylar&apos;,group=&apos;sylar&apos;)</span><br></pre></td></tr></table></figure>
<ul>
<li>make_archive 压缩,调用的ZipFile 和TarFile两个模块</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shutil.make_archive(&apos;test&apos;,&apos;tar&apos;,root_dir=&apos;./&apos;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import tarfile</span><br><span class="line">t = tarfile.open(&apos;test.tar&apos;,&apos;r&apos;)</span><br><span class="line">t.extractall()</span><br><span class="line">t.close()</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">copymode			|	复制文件权限</span><br><span class="line">copystat 			|	复制文件信息</span><br><span class="line">copytree			|	复制目录树</span><br><span class="line">rmtree				|	删除目录树</span><br><span class="line">disk_usage()		|	获取磁盘空间</span><br><span class="line">get_terminal_size() |	终端大小,</span><br></pre></td></tr></table></figure>
<h3 id="json-和pickle模块-shelve"><a href="#json-和pickle模块-shelve" class="headerlink" title="json 和pickle模块 shelve"></a>json 和pickle模块 shelve</h3><p>1, json和pickle</p>
<p>因为在网络传输中,python3是默认是用bytes类型传输数据,而在文件中是使用str类型来保存数据,所以数据需要在bytes和str类型中进行转换.json是可跨语言使用的数据交互或序列化的数据标准,pickle是python自有的数据交互和序列化的数据标准.这两个模块的功能:</p>
<ul>
<li>dump load 对数据进行处理并写如文件</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">d1 = &#123;&apos;name&apos;:&apos;sylar&apos;,</span><br><span class="line">      &apos;age&apos;:18,&#125;</span><br><span class="line">with open(&apos;test.txt&apos;,&apos;wb&apos;) as f1:</span><br><span class="line">    pickle.dump(d1,f1)</span><br><span class="line"></span><br><span class="line">with open(&apos;test.txt&apos;,&apos;rb&apos;) as f2:</span><br><span class="line">    data = pickle.load(f2)</span><br><span class="line">    print(data)</span><br></pre></td></tr></table></figure>
<ul>
<li>dumps loads 只对数据进行处理</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">d1 = &#123;&apos;name&apos;:&apos;sylar&apos;,</span><br><span class="line">      &apos;age&apos;:18,&#125;</span><br><span class="line">print(type(d1))</span><br><span class="line">dump_obj = pickle.dumps(d1)</span><br><span class="line">print(type(dump_obj))</span><br><span class="line">load_obj = pickle.loads(dump_obj)</span><br><span class="line">print(type(load_obj))</span><br></pre></td></tr></table></figure>
<p>2, shelve模块<br>pickle对一个文件无论dumps多次只能loads一次,如果需要记录文件的多次dumps可以使用shelve模块.使用方法和open差不多</p>
<ul>
<li>写</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">d1 = &#123;&apos;name&apos;:&apos;sylar&apos;,</span><br><span class="line">      &apos;age&apos;:18,&#125;</span><br><span class="line"></span><br><span class="line">with shelve.open(&apos;test.shelve&apos;) as f:</span><br><span class="line">    f[&apos;key&apos;] = d1</span><br></pre></td></tr></table></figure>
<ul>
<li>读</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">with shelve.open(&apos;test.shelve&apos;) as f:</span><br><span class="line">    for k,v in f.items():</span><br><span class="line">        print(k,v)</span><br></pre></td></tr></table></figure>
<p>3, 其它文档处理xml,pyyaml,confgparser</p>
<h3 id="hashlib-hmac"><a href="#hashlib-hmac" class="headerlink" title="hashlib,hmac"></a>hashlib,hmac</h3><p>用于加密相关的操作,python3里面hashlib整合了md5和sha模块.hmac多重加密</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import hashlib</span><br><span class="line">text = b&apos;hello,world&apos;</span><br><span class="line">t1 = hashlib.md5(text)</span><br><span class="line">t = hashlib.md5()</span><br><span class="line">t.update(text)</span><br><span class="line">print(&apos;二进制:&apos;,t.digest())</span><br><span class="line">print(&apos;16进制:&apos;,t.hexdigest())</span><br><span class="line">print(&apos;16进制:&apos;,t1.hexdigest())</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import hmac</span><br><span class="line">text = &apos;abcd&apos;.encode(encoding=&apos;utf8&apos;)</span><br><span class="line">text_cn = bytes(&apos;我是中文&apos;,encoding=&apos;utf8&apos;)</span><br><span class="line">t = hmac.new(text,text_cn)</span><br><span class="line">print(&apos;二进制:&apos;,t.digest())</span><br><span class="line">print(&apos;16进制:&apos;,t.hexdigest())</span><br></pre></td></tr></table></figure>
<h3 id="re正则表达式"><a href="#re正则表达式" class="headerlink" title="re正则表达式"></a>re正则表达式</h3><p>1,特殊匹配模式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">re.I	|	re.IGNORECASE  启用后不区分大小写</span><br><span class="line">re.M	|	re.MULTILINE 启用后匹配行首和行尾,不启用以字符串计算起始和结束位置</span><br><span class="line">re.S	|	re.DOTALL	启用后不忽略换行符</span><br></pre></td></tr></table></figure>
<p>2, 正则表达式匹配符:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">.		|	默认匹配\n之外任意一个字符,指定flag DOTALL 则可以匹配换行符</span><br><span class="line">^		|	定位至字符串起始位置.指定flag MULTILINE,则定位行首</span><br><span class="line">$		|	定位至字符串结束位置.指定flag MULTILINE,则定位行尾</span><br><span class="line">*		|	匹配*号前字符任意次</span><br><span class="line">+		|	匹配前一个字符多次</span><br><span class="line">?		|	匹配前一个字符最多1次</span><br><span class="line">&#123;m&#125;		|	匹配前一个条件m次</span><br><span class="line">&#123;n,m&#125;	|	匹配前一个条件n到m次</span><br><span class="line">|		|	匹配左右条件</span><br><span class="line">()		|	配合&#123;m&#125;等使用组成一个条件</span><br><span class="line">[a-z]	|	匹配指定范围小写字母</span><br><span class="line">[A-Z]	|	匹配指定范围大写字母</span><br><span class="line">[0-9]	|	匹配指定范围数字</span><br><span class="line">\A		|	从字符起始位置匹配 同^</span><br><span class="line">\Z		|	匹配字符结束 同$</span><br><span class="line">\d		| 	匹配数字</span><br><span class="line">\D		|	非数字</span><br><span class="line">\w		|	匹配[0-9a-zA-Z]数字和字母</span><br><span class="line">\W		|	非数字和字母,即特殊符号</span><br><span class="line">\s		|	匹配空白字符,换行等 \t, \n, \r</span><br><span class="line">(?P&lt;name&gt;)	|	分组匹配,将结果以name为key存储为字典</span><br></pre></td></tr></table></figure>
<p>3, 常用方法</p>
<blockquote>
<p>re.match() 从字符串起始位置开始匹配,也就是说默认是带了^,下面第二例子就不能匹配</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line">text = &apos;abcdddddcba0022abc&apos;</span><br><span class="line"></span><br><span class="line">res = re.match(&apos;a.+\d&apos;,text)</span><br><span class="line">print(res.group())</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">res = re.match(&apos;cba\d+&apos;,text)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>re.search() 在整个字符串中匹配一次 上面错误的例子就可以使用search进行匹配</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">res = re.search(&apos;cba\d+&apos;,text)</span><br><span class="line">print(res.group())</span><br></pre></td></tr></table></figure>
<blockquote>
<p>re.findall 匹配字符串中所有符合条件的字符,不需要group方法来返回输出</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#res = re.findall(&apos;[a-z]&#123;3&#125;&apos;,text) 这两种结果是不一致的.</span><br><span class="line">res = re.findall(&apos;[a-z]&#123;1,3&#125;&apos;,text)</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>split() 按照匹配规则分割字符串</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">res = re.split(&apos;c&apos;,text)</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>sub() 替换</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">res = re.sub(&apos;c&apos;,&apos;_&apos;,text,count=2)</span><br><span class="line">print(res)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>groupdict和分组匹配</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">id_card = &apos;510703200004010517&apos;</span><br><span class="line">id_info = re.search(&quot;(?P&lt;city&gt;[0-9]&#123;6&#125;)(?P&lt;birth_year&gt;[0-9]&#123;4&#125;)(?P&lt;birth_day&gt;[0-9]&#123;4&#125;)&quot;,id_card).groupdict()</span><br><span class="line">print(id_info)</span><br><span class="line">#返回结果为:&#123;&apos;city&apos;: &apos;510703&apos;, &apos;birth_year&apos;: &apos;2000&apos;, &apos;birth_day&apos;: &apos;0401&apos;&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>匹配从某个字符开始,但是不包含这个字符</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">test = &apos;xxx.html&apos;</span><br><span class="line">re.search(&apos;((?!\.).)*$&apos;,test)</span><br><span class="line"></span><br><span class="line">#普通匹配((?!x).)*$,x为要过滤的字符,</span><br></pre></td></tr></table></figure>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2014/12/03/python基础(九)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sylar">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="sylar's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/12/03/python基础(九)/" itemprop="url">python基础(九)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-12-03T08:55:29+08:00">2014-12-03</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="内置函数"><a href="#内置函数" class="headerlink" title="内置函数"></a>内置函数</h3><p>python在解释器内部为我们编写好的函数,可以直接使用.<br><a href="https://docs.python.org/3/library/functions.html?" target="_blank" rel="noopener">官方文档</a></p>
<ul>
<li>abs(): 返回一个数字的绝对值。参数可以是整数或浮点数。如果参数是一个复数，则返回它的大小。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">abs(-200)</span><br></pre></td></tr></table></figure>
<ul>
<li>all():如果可迭代对象所有的元素都是真个返回True（如果是空返回False).</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list = [1,-1,65,5,4,22,8,6]   #非0即为真</span><br><span class="line">all(list)</span><br></pre></td></tr></table></figure>
<ul>
<li>any():如果可迭代对象任意元素是假返回True,（如果是空返回False)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">list = [0,-1,65,5,4,22,8,6]</span><br><span class="line">any(list)</span><br></pre></td></tr></table></figure>
<ul>
<li>ascii():把一个数据对象变为字符串形式</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">text = ascii(list)</span><br><span class="line">print(text,type(text))</span><br></pre></td></tr></table></figure>
<ul>
<li>bin():将一个整数转换为二进制数值(快速计算二进制)</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(bin(10))</span><br><span class="line">print(bin(2))</span><br></pre></td></tr></table></figure>
<ul>
<li>bool():bool运算函数,</li>
</ul>
<ul>
<li><p>bytearray():产生一个bytes类型的数组,让数据达到可以修改的目的</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = bytearray(&apos;abcde&apos;,encoding=&apos;utf8&apos;)</span><br><span class="line">a[3] = 67   #bytes类型是在ascii码表中对应表示的字符</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
</li>
<li><p>bytes():python3的新的数据类型,是ascii码形式表示,以b’xxx’的方式打印,和str字符类型都是不可以修改的.</p>
</li>
<li><p>callable(): 判断一个函数中是否可以调用.(即可不可加’()来执行’)</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">list = []</span><br><span class="line"></span><br><span class="line">def test_call():</span><br><span class="line">    print(&apos;test&apos;)</span><br><span class="line">print(callable(list),callable(test_call))</span><br></pre></td></tr></table></figure>
<ul>
<li>chr(): 把数字对应的ascii码中对应的字符,和ord函数相反</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chr(91)</span><br></pre></td></tr></table></figure>
<ul>
<li>compile():将字符转换为python字节码,python预编译使用.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">code = &apos;&apos;&apos;</span><br><span class="line">def test_comp():</span><br><span class="line">    print(&apos;hello comple&apos;)</span><br><span class="line">test_comp()</span><br><span class="line">&apos;&apos;&apos;</span><br><span class="line">obj = compile(code,&apos;&apos;,&apos;exec&apos;)</span><br><span class="line">exec(obj)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>delattr():配合hasattr,setattr使用,删除一个对象的某个属性.</p>
</li>
<li><p>dict():生成字典的函数</p>
</li>
<li><p>dir(): 查看对象能够使用的方法</p>
</li>
<li><p>divmod: 返回两个整数的商和余数</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(divmod(9,2))</span><br></pre></td></tr></table></figure>
<ul>
<li>enumerate():对一个可迭代对象进行枚举,一般是有序数据类型.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a = [1,23,5,7,8,4,90,3,22]</span><br><span class="line">for i in enumerate(a):</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure>
<ul>
<li>eval(): 将字符串转换为数学表达式</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eval(&apos;1+1&apos;)</span><br></pre></td></tr></table></figure>
<ul>
<li>exec():将字符串当作代码执行</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exec(&apos;for i in range(10):print(i)&apos;)</span><br></pre></td></tr></table></figure>
<ul>
<li>filter() 根据条件过滤一个可迭代对象,filter返回一个迭代器</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">l1 = [566,55,5,7,8,4,90,3,22]</span><br><span class="line">res = filter(lambda n: n &gt; 40,l1)</span><br><span class="line">for i in res:</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure>
<ul>
<li>float() 将字符串编程浮点数</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">float(&apos;+1.23&apos;)</span><br></pre></td></tr></table></figure>
<ul>
<li>format()将数字转换为字符类型</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = format([22,33])</span><br><span class="line">print(a,type(a))</span><br></pre></td></tr></table></figure>
<ul>
<li><p>frozenset 将集合变味不可变的.</p>
</li>
<li><p>getattr() 获取一个对象的属性</p>
</li>
<li><p>globals() 返回当前全局属性</p>
</li>
<li><p>hasattr() 判断一个对象是否有一个属性</p>
</li>
<li><p>hash() </p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(hash(&apos;slkfjkl&apos;))</span><br></pre></td></tr></table></figure>
<ul>
<li><p>help() 对象的帮助信息</p>
</li>
<li><p>hex() 返回十进制对应16进制值</p>
</li>
<li><p>id() 返回对象在python解释器中的唯一标识符(简单理解就是内存地址,不过这个内存地址是python解释器管理的)</p>
</li>
<li><p>input() 获取用户输入 </p>
</li>
<li><p>int() 将对象转换为整数</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int(66.22)</span><br></pre></td></tr></table></figure>
<ul>
<li>isinstance() 判断是否属于某种数据类型</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(isinstance(a,str))</span><br></pre></td></tr></table></figure>
<ul>
<li><p>issubclass() 用于判断是否包含子类的关系</p>
</li>
<li><p>iter() 将一个可迭代对象转换为迭代器</p>
</li>
<li><p>len() 返回对象的长度或者是元素总数</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">len([1111,22222,33333,44444])</span><br><span class="line">len(&apos;abcde&apos;)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>list() 生成列表的方法</p>
</li>
<li><p>locals 返回局部属性,一般是函数或者类的实例里面使用</p>
</li>
<li><p>map() 对可迭代对象根据条件返回一个结果的迭代器,和filter函数功能类似.</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">l1 = [566,55,5,7,8,4,90,3,22]</span><br><span class="line">res = map(lambda n: n*2,l1)</span><br><span class="line">#res = map(lambda n:n&gt;40,l1)</span><br><span class="line">for i in res:</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure>
<ul>
<li>max() 判断最大的值</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">max(2,3,4,5,6,22,11)</span><br><span class="line"></span><br><span class="line">l1 = [566,55,5,7,8,4,90,3,22]</span><br><span class="line">print(max(l1))</span><br></pre></td></tr></table></figure>
<ul>
<li><p>memoryview()</p>
</li>
<li><p>min() 和max方法相反</p>
</li>
<li><p>next() 迭代器的<strong>next</strong>方法</p>
</li>
<li><p>oct() 返回十进制数字对应的8进制值</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">oct(7)</span><br><span class="line">oct(8)</span><br><span class="line">oct(16)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>open() 文件操作</p>
</li>
<li><p>ord() 返回字符在ascii码中的数值代码</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ord(&apos;a&apos;)</span><br></pre></td></tr></table></figure>
<ul>
<li>pow() 乘方运算</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pow(2,3)</span><br><span class="line">pow(3,2)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>print() 标准打印输出</p>
</li>
<li><p>property() 给一个对象增加属性</p>
</li>
<li><p>range() 生成一个序列</p>
</li>
<li><p>repr() 返回包含对象的可打印表示的字符串。</p>
</li>
</ul>
<ul>
<li>reversed 对一个有序迭代器进行反排序</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">l1 = [566,55,5,7,8,4,90,3,22]</span><br><span class="line">for i in reversed(l1):</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure>
<ul>
<li>round() 处理小数点后的精度</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">round(10.22333455,5)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>set() 集合</p>
</li>
<li><p>slice切片操作</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">l1 = [566,55,5,7,8,4,90,3,22]</span><br><span class="line">print(l1[slice(2,5)])</span><br></pre></td></tr></table></figure>
<ul>
<li>sorted() 排序</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = &#123;-1:7,3:77,22:777,33:666&#125;</span><br><span class="line">print(sorted(a.items()))</span><br><span class="line">print(sorted(a.items(),key=lambda x:x[1]))</span><br><span class="line">l1 = [566,55,5,7,8,4,90,3,22]</span><br><span class="line">print(sorted(l1))</span><br></pre></td></tr></table></figure>
<ul>
<li><p>str() 字符串</p>
</li>
<li><p>sum() 加法运算</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">l1 = [566,55,5,7,8,4,90,3,22]</span><br><span class="line">a = &#123;-1:7,3:77,22:&apos;abc&apos;,33:&apos;vdf&apos;&#125;</span><br><span class="line">print(sum(l1))</span><br></pre></td></tr></table></figure>
<ul>
<li><p>super() 在类中对父类进行继承的函数</p>
</li>
<li><p>tuple() 元组</p>
</li>
<li><p>type() 判断对象类型</p>
</li>
<li><p>vars() 返回一个模块，类实例的<strong>dict</strong>属性，或与任何其他对象<strong>dict</strong>属性。</p>
</li>
<li><p>zip() 组合两个可迭代对象,返回一个迭代器</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a = &apos;abcde&apos;</span><br><span class="line">b = [1,2,3,4,5]</span><br><span class="line">zip(a,b)</span><br><span class="line">for i in zip(a,b):print(i)</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>import</strong>() 将字符串当模块名导入,类似import</li>
</ul>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2014/12/01/python基础(八)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sylar">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="sylar's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/12/01/python基础(八)/" itemprop="url">python基础(八)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-12-01T08:55:29+08:00">2014-12-01</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a>生成器</h3><p>在函数中使用yield关键字就会将一个普通的函数变成一个生成器(generator),普通的函数只能使用return来退出函数,而不执行return之后的代码.而生成器可以使用调用一个next方法来返回生成器中上一次yield时候的状态.并且可以使用send方法给yield重新赋值.这样就可以灵活的进入和跳出函数.因此在程序中生成器可以中断当前函数,去执行其它的代码,在合适的时候跳回函数继续执行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">def yield_test():</span><br><span class="line">    print(&apos;befor the first&apos;)</span><br><span class="line">    first = yield</span><br><span class="line">    print(first)</span><br><span class="line">    print(&apos;before the second&apos;)</span><br><span class="line">    second = yield</span><br><span class="line">    print(second)</span><br><span class="line">    print(&apos;before the Third&apos;)</span><br><span class="line">    Third = yield &apos;也可以有返回值&apos;</span><br><span class="line">    print(Third)</span><br><span class="line">    print(&apos;after the Third&apos;)</span><br><span class="line">    </span><br><span class="line">#next方法</span><br><span class="line">g = yield_test()</span><br><span class="line">g.__next__()</span><br><span class="line">g.__next__()</span><br><span class="line">yield_text = g.__next__()		#获取yield传出的数据,接受数据next和发送数据yield的位置顺序相同</span><br><span class="line">print(yield_text)</span><br><span class="line"># g.__next__()</span><br><span class="line"></span><br><span class="line">#send方法</span><br><span class="line">g = yield_test()</span><br><span class="line">g.__next__()     				#做实验时第一次必须是next,send会报错</span><br><span class="line">g.send(&apos;2222&apos;)					#send发送的数据会被赋值给当前yield之前的代码中生效.</span><br><span class="line">								#简单说是赋值给前一个yield以便本次代码执行</span><br><span class="line">g.send(&apos;3333&apos;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>补充:通过这个例子我们发现<br>1,send方法被生成器当作了一次<strong>next</strong>,并且send的值会复制给上一个yield,<br>2,yield和__next_方法是一一对应.当next比函数内yield多时,最后一个next会报一个StopIteration异常.<br>3,yield后的代码会在下一次next调用时才会执行.<br>4,yield可以发送数据,也可以接受数据.获取数据时要注意传入和传出不同时机才能获取正确的yield值</p>
</blockquote>
<p>所以我们通常把生成器用在可循环的对象<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">def read_file():</span><br><span class="line">    read_size = 10</span><br><span class="line">    with open(&apos;test.txt&apos;,&apos;rb&apos;) as f:</span><br><span class="line">        while True:</span><br><span class="line">            text = f.read(read_size)</span><br><span class="line">            yield text		#通过yield获取当前的text值</span><br><span class="line"></span><br><span class="line">g = read_file()			</span><br><span class="line">while True:</span><br><span class="line">    print(g.__next__())</span><br><span class="line">#生成器这样使用会进入一个死循环</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>补充:<br>5, 生成器必须要有明确的退出条件,为了不造成死循环. 所以慎用循环.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">def read_file():</span><br><span class="line">    read_size = 10</span><br><span class="line">    with open(&apos;test.txt&apos;,&apos;rb&apos;) as f:</span><br><span class="line">        while True:</span><br><span class="line">            text = f.read(read_size)</span><br><span class="line">            if text:				#判断文件是否读取完毕</span><br><span class="line">                yield text		</span><br><span class="line">            else:</span><br><span class="line">                return</span><br><span class="line"></span><br><span class="line">g = read_file()			</span><br><span class="line">while True:</span><br><span class="line">    print(g.__next__())</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h3 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h3><p>iterable(可迭代对象)可以直接作用与for循环的对象.可迭代对象分为:一,集合数据类型如:str字符串,list列表,dict字典,tuple元组,set集合等.二,生成器generator和带yield的函数.判断是否为iterable对象可以使用函数isinstance().<br>在python中list等集合数据类型是非常占用内存的,通过使用iter()可以将一个可迭代对象变成一个迭代器.迭代器中不存储具体数据,只是保存了产生这种数据的逻辑对象.在使用时才产生需要的数据,可以大大节省空间.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">from collections import Iterator</span><br><span class="line">list = []</span><br><span class="line">for i in range(10):</span><br><span class="line">    list.append(i)</span><br><span class="line">print(list,isinstance(list,Iterator))</span><br><span class="line"></span><br><span class="line">list_Iterator= iter(list)</span><br><span class="line">print(list_Iterator,isinstance(list_Iterator,Iterator))</span><br><span class="line">for i in list_Iterator:</span><br><span class="line">    print(i)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>补充:<br>1, 迭代器中并没有保存真正的数据,只有在我们去通过next方法去迭代器中取数据<br>2, 迭代器中是按照一定的顺序输出所有数据,不能取指定的数据.</p>
</blockquote>
<h3 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h3><p>装饰器(decorator)是一种函数的高级用法,主要是通过高阶函数和返回函数组合的方式,修饰其它函数.达到被修饰的函数代码不用修改,调用方式也不变的目的.主要作用就是给被修饰的函数添加功能.</p>
<ol>
<li>原函数不带参数</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#假如有这么三个函数,我们需要记录访问时间和函数名,但是又不能修改函数</span><br><span class="line">def home():</span><br><span class="line">    print(&apos;index page&apos;)</span><br><span class="line">def bbs():</span><br><span class="line">    print(&apos;bbs page&apos;)</span><br><span class="line">def news():</span><br><span class="line">    print(&apos;news page&apos;)</span><br><span class="line">home()</span><br><span class="line">bbs()</span><br><span class="line">news()</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">#加上装饰器后的效果</span><br><span class="line">import time</span><br><span class="line"></span><br><span class="line">log_list = []</span><br><span class="line">def user_log(func):     #将被装饰函数作为参数传入user_log这个装饰器</span><br><span class="line">    def wrapper():		#触发执行装饰器的函数</span><br><span class="line">        func()			#在装饰器内执行原函数</span><br><span class="line">        log_time = time.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;)	#装饰器内具体新代码</span><br><span class="line">        page_name = func.__name__</span><br><span class="line">        log_page = str(log_time+&apos;  -&gt;&apos;+page_name)</span><br><span class="line">        log_list.append(log_page)</span><br><span class="line">    return wrapper		#将触发函数返回,一定不要加()执行符号</span><br><span class="line"></span><br><span class="line">@user_log</span><br><span class="line">def home():</span><br><span class="line">    print(&apos;index page&apos;)</span><br><span class="line"></span><br><span class="line">@user_log</span><br><span class="line">def bbs():</span><br><span class="line">    print(&apos;bbs page&apos;)</span><br><span class="line"></span><br><span class="line">@user_log</span><br><span class="line">def news():</span><br><span class="line">    print(&apos;news page&apos;)</span><br><span class="line"></span><br><span class="line">home()</span><br><span class="line">bbs()</span><br><span class="line">news()</span><br><span class="line">print(log_list)</span><br></pre></td></tr></table></figure>
<ol>
<li>带参数的函数</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">计算函数运行时间的装饰器</span><br><span class="line">import time</span><br><span class="line"></span><br><span class="line">def time_consum(func):</span><br><span class="line">    def wrapper(*args,**kwargs):</span><br><span class="line">        start_time = time.time()</span><br><span class="line">        func(*args,**kwargs)</span><br><span class="line">        print(&apos;running&apos;,time.time()-start_time)</span><br><span class="line">    return wrapper</span><br><span class="line"></span><br><span class="line">@time_consum</span><br><span class="line">def user_profile(username):</span><br><span class="line">    time.sleep(3)</span><br><span class="line">    print(&apos;welcome %s&apos;%username)</span><br><span class="line"></span><br><span class="line">user_profile(&apos;sylar&apos;)</span><br></pre></td></tr></table></figure>
<ol>
<li>装饰器带参数,</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">#根据装饰器参数执行不同的功能</span><br><span class="line">import time</span><br><span class="line">log_list = []</span><br><span class="line">def change_type(ch_type=&apos;other&apos;):</span><br><span class="line">    def decorator(func):</span><br><span class="line">        def wrapper(*args,**kwargs):</span><br><span class="line">            if ch_type == &apos;tc&apos;:</span><br><span class="line">                start_time = time.time()</span><br><span class="line">                func(*args,**kwargs)</span><br><span class="line">                print(&apos;running&apos;,time.time()-start_time)</span><br><span class="line">            else:</span><br><span class="line">                func()</span><br><span class="line">                print(&apos;other type code&apos;)</span><br><span class="line">                log_time = time.strftime(&quot;%Y-%m-%d %H:%M:%S&quot;)  # 装饰器内具体新代码</span><br><span class="line">                page_name = func.__name__</span><br><span class="line">                log_page = str(log_time + &apos;  -&gt;&apos; + page_name)</span><br><span class="line">                log_list.append(log_page)</span><br><span class="line">        return wrapper</span><br><span class="line">    return decorator</span><br><span class="line"></span><br><span class="line">@change_type()</span><br><span class="line">def home():</span><br><span class="line">    print(&apos;index page&apos;)</span><br><span class="line"></span><br><span class="line">@change_type(&apos;tc&apos;)</span><br><span class="line">def user_profile(username):</span><br><span class="line">    time.sleep(3)</span><br><span class="line">    print(&apos;welcome %s&apos;%username)</span><br><span class="line"></span><br><span class="line">home()</span><br><span class="line">user_profile(&apos;sylar&apos;)</span><br><span class="line">print(log_list)</span><br></pre></td></tr></table></figure>
<h3 id="递归函数"><a href="#递归函数" class="headerlink" title="递归函数"></a>递归函数</h3><p>在函数内部,调用了这个函数自己.就叫做递归函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#直接使用递归法求解斐波那契数量的第num个数字</span><br><span class="line">def fib(num):</span><br><span class="line">    if num&lt;2:</span><br><span class="line">        return num</span><br><span class="line">    return fib(num-1)+fib(num-2)</span><br><span class="line"></span><br><span class="line">for i in range(10):</span><br><span class="line">    print(fib(i))</span><br></pre></td></tr></table></figure>
<blockquote>
<p>补充递归函数必须要有一个明确的结束条件,python中支持最大递归次数1000</p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2014/11/27/python基础(七)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sylar">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="sylar's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/11/27/python基础(七)/" itemprop="url">python基础(七)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-11-27T08:55:29+08:00">2014-11-27</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Function-函数基础"><a href="#Function-函数基础" class="headerlink" title="Function 函数基础"></a>Function 函数基础</h1><p>函数是一段组织好的能够实现特定功能或者逻辑的代码块,函数代码在文件执行时读入内存并不执行,在调用函数时执行,简单来说是把一段代码封装给一个函数名(可以用变量的概念去理解,即把一段代码赋值给一个函数名),当使用函数名加执行标记时才运行这段内存中的代码.函数的作用可以减少重复代码,在不同的地方要使用相同的代码块,我们就可以把这段代码封装成函数.同时当多处相同的代码需要修改时,只需要修改函数定义时一处即可扩展性好.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#定义函数</span><br><span class="line">def func_name(parameters):</span><br><span class="line">	name = parameters</span><br><span class="line">	print(&apos;exec code with %s&apos; %name)</span><br><span class="line">	return &apos;some code&apos;</span><br><span class="line">#函数的调用</span><br><span class="line">func_name(&apos;sylar&apos;)</span><br><span class="line">a = func_name()</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<p>###参数<br>函数在定义和调用的时候是可以传入参数,在定义时申明的参数称为形参,在函数调用时传入的参数称为实参.一般来说形参只在函数内生效,但是当传入的是list(列表),dict(字典),func(函数)由于这些复杂数据类型传入是对象的内存地址,所以在函数内做了修改,在函数外也会产生响应的修改.因此参数可以分为可变参数和不可变参数.但我们通常在使用中一般将函数的参数使用传入的方式来分类:</p>
<ul>
<li>位置参数<br>根据定义函数时的形参位置一一对应的传入参数,形参和实参顺序必须一致.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">def fun1(name, age, post):</span><br><span class="line">    print(&apos;My name is %s&apos; % name)</span><br><span class="line">    print(&apos;At the age of  %s&apos; % age)</span><br><span class="line">    print(&apos;The position is %s&apos; % post)</span><br><span class="line">	</span><br><span class="line">fun1(&apos;sylar&apos;,18,&apos;IT&apos;)</span><br></pre></td></tr></table></figure>
<ul>
<li>关键字参数<br>使用形参的关键字确定传入实参的值,此时不需要关注参数的顺序</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def fun1(name, age, post):</span><br><span class="line">    print(&apos;My name is %s&apos; % name)</span><br><span class="line">    print(&apos;At the age of  %s&apos; % age)</span><br><span class="line">    print(&apos;The position is %s&apos; % post)</span><br><span class="line"></span><br><span class="line">fun1(name=&apos;sylar&apos;,post=&apos;IT&apos;,age=18,)</span><br><span class="line">fun1(&apos;tom&apos;,post=&apos;IT&apos;,age=19,)</span><br></pre></td></tr></table></figure>
<p>关键字参数和位置参数的方式可以混用,但是记住不能在关键字参数前传入位置参数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#错误的调用</span><br><span class="line">fun1(name=&apos;sylar&apos;,age=18,&apos;IT&apos;)</span><br></pre></td></tr></table></figure>
<ul>
<li>默认参数<br>在定义形参的时候,给参数设置一个默认值.在调用函数时不传入这个参数就使用默认值.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">def fun1(name, age, post=&apos;IT&apos;):</span><br><span class="line">    print(&apos;My name is %s&apos; % name)</span><br><span class="line">    print(&apos;At the age of  %s&apos; % age)</span><br><span class="line">    print(&apos;The position is %s&apos; % post)</span><br><span class="line"></span><br><span class="line">fun1(name=&apos;sylar&apos;,age=18)</span><br></pre></td></tr></table></figure>
<p>默认参数也可以和其它参数混搭使用,但是默认参数只能定义在所有参数的尾部.传入参数的时候只需要遵循放在位置参数之后传入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#错误的定义</span><br><span class="line">def fun1(post=&apos;IT&apos;,name, age):</span><br></pre></td></tr></table></figure>
<ul>
<li>不定长参数<br>在定义一个函数时,会出现我们并不知道我们使用函数时会传入多少个参数的情况,这时候就可以使用不定长参数.使用*args和**kwargs</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#*args会将收到的参数组合为一个元组</span><br><span class="line">def fun1(name,age,*args,):</span><br><span class="line">    print(&apos;My name is %s&apos; % name)</span><br><span class="line">    print(&apos;At the age of  %s&apos; % age)</span><br><span class="line">    print(args)</span><br><span class="line">    hope_list= &apos;,&apos;.join(args)</span><br><span class="line">    print(&apos;He hopes list is:%s&apos;%hope_list)</span><br><span class="line">fun1(&apos;sylar&apos;,18,&apos;IT&apos;,&apos;travel&apos;,&apos;movie&apos;)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#kwargs会将传入的参数组合为字典,在函数内调用需要函数内代码去获取字典的key才可以取到对应的值</span><br><span class="line">def fun2(**kwargs):</span><br><span class="line">    print(kwargs)</span><br><span class="line">    name = kwargs[&apos;name&apos;]</span><br><span class="line">    age = kwargs[&apos;age&apos;]</span><br><span class="line">    print(&apos;My name is %s&apos; % name)</span><br><span class="line">    print(&apos;At the age of  %s&apos; % age)</span><br><span class="line">fun2(name=&apos;sylar&apos;,age=18)</span><br></pre></td></tr></table></figure>
<h3 id="局部变量和全局变量"><a href="#局部变量和全局变量" class="headerlink" title="局部变量和全局变量"></a>局部变量和全局变量</h3><p>首先需要理解名称空间和作用域,名称空间是指对某段代码进行命名的操作,例如变量名,函数名.全局变量是在整个文件顶部定义,对整个文件都生效.局部变量是相对而论的,我们先来看一个例子(这几个概念,我也不能很好的阐述)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">g_var = &apos;this is global var&apos;</span><br><span class="line">def foo():</span><br><span class="line">	l_var = &apos;in the foo!this is local var&apos;</span><br><span class="line">	print(g_var)</span><br><span class="line">	print(l_var)</span><br><span class="line">def foo1():</span><br><span class="line">    l_var = &apos;in the other foo !this is local var&apos;</span><br><span class="line">    print(g_var)</span><br><span class="line">    print(l_var)</span><br><span class="line">foo()</span><br><span class="line">foo1()</span><br><span class="line">print(g_var)</span><br><span class="line">print(l_var)</span><br></pre></td></tr></table></figure>
<p>在这个例子中,g_var是在整个代码块中都生效的,那么g_var就是这个代码块的全局变量,而l_var只在函数foo中生效,那么l_var就是foo的局部变量.而在foo1的l_var又是它自己内部定义的局部变量</p>
<p>当局部变量和全局变量同名时,局部变量只在他所属的代码块内生效.并不能影响代码块外的全局变量.同时需要注意的是,局部变量优先.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">some_var = &apos;this is global var&apos;</span><br><span class="line">print(some_var)</span><br><span class="line">def foo():</span><br><span class="line">    some_var = &apos;this is local var&apos;</span><br><span class="line">	print(some_var)</span><br><span class="line">foo()</span><br><span class="line">print(some_var)</span><br></pre></td></tr></table></figure>
<h3 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a>返回值</h3><p>在函数中使用ruturn语句,让函数返回一个结果给函数外的调用.如果没有定义ruturn,函数会返回一个None.当函数执行了return将会跳出函数,不再继续执行函数中的代码</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#没有ruturn的返回值</span><br><span class="line">def foo():</span><br><span class="line">    print(&apos;welcome&apos;)</span><br><span class="line">a = foo()</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#定义return的返回值和return后的代码不会执行</span><br><span class="line">def foo(x,y):</span><br><span class="line">    z = x + y</span><br><span class="line">    return z</span><br><span class="line">    print(&apos;welcome&apos;)</span><br><span class="line">a = foo(1,2)</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure>
<h3 id="嵌套函数"><a href="#嵌套函数" class="headerlink" title="嵌套函数"></a>嵌套函数</h3><p>在函数中嵌套一层函数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def first_func():</span><br><span class="line">    print(&apos;in the first&apos;)</span><br><span class="line">    def second_func():</span><br><span class="line">        print(&apos;in the second&apos;)</span><br><span class="line">    second_func()</span><br><span class="line">first_func()       </span><br><span class="line">second_func() #此时在外面是不能调用嵌套内的函数</span><br></pre></td></tr></table></figure>
<blockquote>
<p>补充,使用嵌套函数去试试局部变量能更好的理解局部变量的使用</p>
</blockquote>
<h3 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h3><p>lamba主体通常就是一个表达式,是函数的一个高级用法,在某些特定场景需要使用函数时使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sum = lambda arg1, arg2: print(arg1 + arg2);</span><br><span class="line">sum(1,2)</span><br><span class="line"></span><br><span class="line">def func(arg1,arg2):</span><br><span class="line">	print(arg1+arg2)</span><br><span class="line">func(1,2)</span><br></pre></td></tr></table></figure>
<h3 id="列表生成式"><a href="#列表生成式" class="headerlink" title="列表生成式:"></a>列表生成式:</h3><p>列表生成式表现方式类似于三元运算和匿名函数lambda函数.通过简化代码执行一个教复杂的运算逻辑.这算是函数的一个扩展场景吧</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">#普通代码</span><br><span class="line">def func(i):</span><br><span class="line">    if i &lt; 5:</span><br><span class="line">        i=i+1</span><br><span class="line">    else:</span><br><span class="line">        i=i*2</span><br><span class="line">    return i</span><br><span class="line">a = []</span><br><span class="line">for i in range(10):</span><br><span class="line">    num = func(i)</span><br><span class="line">    a.append(num)</span><br><span class="line">    </span><br><span class="line">#通过列表生成式来完成相同的功能</span><br><span class="line">def func(i):</span><br><span class="line">    if i &lt; 5:</span><br><span class="line">        i=i+1</span><br><span class="line">    else:</span><br><span class="line">        i=i*2</span><br><span class="line">    return i</span><br><span class="line">a = [func(i) for i in range(10)]</span><br></pre></td></tr></table></figure>
<blockquote>
<p>补充三元运算表达式: 为真时的结果 if 判定条件 else 为假时的结果<br>if 5&gt;3 else 0</p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2014/11/21/python基础(六)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sylar">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="sylar's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/11/21/python基础(六)/" itemprop="url">python基础(六)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-11-21T08:55:29+08:00">2014-11-21</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="字典dict"><a href="#字典dict" class="headerlink" title="字典dict"></a>字典dict</h3><p>使用key来标注value的数据类型,key和value是一一对应的.在字典中key是唯一的,所以字典也是无序的.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">#定义一个字典</span><br><span class="line">dict = &#123;</span><br><span class="line">    &apos;name&apos; : &apos;sylar&apos;,</span><br><span class="line">    &apos;age&apos; : 18,</span><br><span class="line">    &apos;post&apos; : &apos;OPS&apos;,</span><br><span class="line">    &apos;salary&apos; : 80000</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">###常用操作和方法</span><br><span class="line"></span><br><span class="line">#访问字典的数据,使用定义的key来获取</span><br><span class="line">print(dict_test[&apos;name&apos;])</span><br><span class="line"></span><br><span class="line">#修改字典</span><br><span class="line">dict_test[&apos;name&apos;] = &apos;Sylar&apos;</span><br><span class="line">print(dict_test[&apos;name&apos;])</span><br><span class="line"></span><br><span class="line">#copy复制一个字典</span><br><span class="line">#clear删除所有元素</span><br><span class="line">a = dict_test.copy()</span><br><span class="line">print(a)</span><br><span class="line">print(a.clear())</span><br><span class="line"></span><br><span class="line">#fromkyes创建一个新字典，以序列中元素做字典的键，val 为字典所有键对应的初始值</span><br><span class="line">a = &#123;&#125;</span><br><span class="line">a = a.fromkeys([1,2,3,4,5],&apos;defalt&apos;)</span><br><span class="line">print(a)</span><br><span class="line"></span><br><span class="line">#get获取元素值同dict_test[&apos;name&apos;]</span><br><span class="line">print(dict_test.get(&apos;name&apos;))</span><br><span class="line"></span><br><span class="line">#item遍历所有元素,将元素以键值对元组的方式输出</span><br><span class="line">print(dict_test.items())</span><br><span class="line"></span><br><span class="line">#keys遍历所有元素的value</span><br><span class="line">print(dict_test.keys())</span><br><span class="line"></span><br><span class="line">#pop删除一个元素,并返回元素的value值</span><br><span class="line">print(dict_test.pop(&apos;age&apos;))</span><br><span class="line">print(dict_test)</span><br><span class="line"></span><br><span class="line">#popitem删除一个元素,并以元组的形式返回key,value值</span><br><span class="line">print(dict_test.popitem())</span><br><span class="line">print(dict_test)</span><br><span class="line"></span><br><span class="line">#setdefault设置一个默认值的元素,如果key已经存在则返回对应的value</span><br><span class="line">print(dict_test.setdefault(&apos;a&apos;,100))</span><br><span class="line">print(dict_test)</span><br><span class="line"></span><br><span class="line">#update用一个字典的数据去更新另外一个字典的数据</span><br><span class="line">a = &#123;&apos;name&apos;:&apos;tom&apos;,&apos;a&apos;:&apos;b&apos;&#125;</span><br><span class="line">dict_test.update(a)</span><br><span class="line">print(dict_test)</span><br><span class="line"></span><br><span class="line">#valus遍历所有元素的value</span><br><span class="line">print(dict_test.values())</span><br><span class="line"></span><br><span class="line">遍历字典的方法</span><br><span class="line">for i in dict_test:</span><br><span class="line">    print(i, dict_test[i])</span><br><span class="line">for i in dict_test.items():</span><br><span class="line">    print(i)</span><br><span class="line">for k,v in dict_test.items():</span><br><span class="line">    print(k, v)</span><br></pre></td></tr></table></figure>
<h3 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h3><p>对文件的打开读写是用open函数,打开文件的方式又分为:<br>r    以只读方式打开文件。文件的指针将会放在文件的开头。这是默认模式。</p>
<p>rb    以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。这是默认模式。</p>
<p>r+    打开一个文件用于读写。文件指针将会放在文件的开头。</p>
<p>rb+    以二进制格式打开一个文件用于读写。文件指针将会放在文件的开头。</p>
<p>w    打开一个文件只用于写入。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</p>
<p>wb    以二进制格式打开一个文件只用于写入。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</p>
<p>w+    打开一个文件用于读写。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</p>
<p>wb+    以二进制格式打开一个文件用于读写。如果该文件已存在则将其覆盖。如果该文件不存在，创建新文件。</p>
<p>a    打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</p>
<p>ab    以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。也就是说，新的内容将会被写入到已有内容之后。如果该文件不存在，创建新文件进行写入。</p>
<p>a+    打开一个文件用于读写。如果该文件已存在，文件指针将会放在文件的结尾。文件打开时会是追加模式。如果该文件不存在，创建新文件用于读写。<br>ab+    以二进制格式打开一个文件用于追加。如果该文件已存在，文件指针将会放在文件的结尾。如果该文件不存在，创建新文件用于读写。</p>
<p>简单来说常用的:r+先读后写从头开始覆盖写.w+先写后读,默认先创建一个空文件默认也只能追加写在文件最后面(会清空同名文件谨慎使用).a+是追加读写模式,一般情况都用这种模式来操作文件.文件插入数据很麻烦,.所以要修改文件,建议读出一个文件写到一个新文件里,数据替换完成后替换原文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">#open函数使用方式,用一个文件句柄的方式去打开一个文件.操作完以后必须关闭文件.</span><br><span class="line">f = open(&apos;a.txt&apos;,&apos;r+&apos;,encoding=&apos;utf-8&apos;)</span><br><span class="line">a = f.read()</span><br><span class="line">f.close()</span><br><span class="line">print(a)</span><br><span class="line"></span><br><span class="line">#常用方法</span><br><span class="line"></span><br><span class="line">#read读取整个文件,由于是一次性读取整个文件只适合对小文件使用.可以指定参数读取多少个字节</span><br><span class="line">a = f.read(1)</span><br><span class="line">#close关闭文件</span><br><span class="line">#readline每次读取一行</span><br><span class="line">#readlines读取整个文件,可以指定参数读取多少行</span><br><span class="line">#write写文件</span><br><span class="line">#truncate截断一个文件,保留多少个字节</span><br><span class="line">#flush手动将内存缓存的数据刷写到硬盘中,而不是等待程序的缓存控制策略去刷写数据</span><br><span class="line">#tell返回文件指针的位置</span><br><span class="line">#seek移动文件指针的位置</span><br><span class="line">f = open(&apos;a.txt&apos;,&apos;r&apos;,encoding=&apos;utf-8&apos;)</span><br><span class="line">print(f.readline())</span><br><span class="line">print(f.readline())</span><br><span class="line">print(f.readline())</span><br><span class="line">print(  f.tell())</span><br><span class="line">f.seek(10)</span><br><span class="line">print(  f.tell())</span><br><span class="line">print(f.readline())</span><br><span class="line">f.close()</span><br></pre></td></tr></table></figure></p>
<h3 id="with-open-as-f"><a href="#with-open-as-f" class="headerlink" title="with open as f"></a>with open as f</h3><p>为了更好保护文件,python中提供了with函数来保护对文件的操作.所以我们要进行文件操作一定要使用with函数.在python3中with支持同时操作多个文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#因为读取文件是按行读取所以for line in f:,而不是使用for i in readline:.后一种方法是读取每一行的字符串的每一个字符</span><br><span class="line">with open(&apos;a.txt&apos;,&apos;r&apos;,encoding=&apos;utf-8&apos;) as f,\</span><br><span class="line">     open(&apos;b.txt&apos;,&apos;w+&apos;,encoding=&apos;utf-8&apos;) as f1:</span><br><span class="line">    for line in f:</span><br><span class="line">        text = line.strip()+&apos;\n&apos;</span><br><span class="line">        f1.writelines(text)</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2014/11/19/python基础(五)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sylar">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="sylar's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/11/19/python基础(五)/" itemprop="url">python基础(五)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-11-19T08:55:29+08:00">2014-11-19</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#列表,元组,集合</p>
<h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><p>在python中是由数个有序的元素组成的数据结构,每一个元素对应一个index索引来隐式标注元素在列表中的位置.是python中最常用的一种数据类型.需要注意的是列表中可以有重复相同的数据.</p>
<h3 id="列表的常用操作-包括索引-切片-增删改查等"><a href="#列表的常用操作-包括索引-切片-增删改查等" class="headerlink" title="列表的常用操作:包括索引,切片,增删改查等."></a>列表的常用操作:包括索引,切片,增删改查等.</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">#首先申明3个列表</span><br><span class="line">list_all = [&apos;22&apos;,&apos;sylar&apos;,&apos;22&apos;,&apos;open&apos;,&apos;4&apos;,&apos;sklfj&apos;,&apos;open&apos;,16,&apos;sjk113&apos;,&apos;skf_kjdk&apos;,&apos;open&apos;,&apos;skj*&amp;%)&apos;,&apos;f_s2df&apos;]</span><br><span class="line">list_num = [1,4,7,3,5,4]</span><br><span class="line">list_alp = [&apos;axod&apos;,&apos;sccde&apos;,&apos;lsoM&apos;,&apos;JLKSI&apos;,&apos;KDIiid&apos;]</span><br><span class="line"></span><br><span class="line">#切片,是用index来获取列表的某个或几个元素,其中多个元素用[start:end:step]来获取,index是从0开始,-1,-2来表示列表的最右的后几位</span><br><span class="line">print(list_all[0])</span><br><span class="line">print(list_all[2:10:2])</span><br><span class="line">print(list_all[7:-1])</span><br><span class="line">print(list_all[7:])</span><br><span class="line">print(list_all[:7])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#append 在列表末尾添加一个值</span><br><span class="line">list_alp.append(&apos;append&apos;)</span><br><span class="line">print(&apos; append 方法---&gt;:&apos;,list_alp)</span><br><span class="line"></span><br><span class="line">#count 记录一个值在列表中出现的次数</span><br><span class="line">print(&apos; count 方法---&gt;:&apos;,list_all.count(&apos;open&apos;))</span><br><span class="line"></span><br><span class="line">#copy复制一个列表</span><br><span class="line">l_copy = list_all.copy()</span><br><span class="line">print(l_copy)</span><br><span class="line"></span><br><span class="line">#clear清空列表</span><br><span class="line">print(l_copy.clear())</span><br><span class="line"></span><br><span class="line">#extend将两个表合并</span><br><span class="line">list_all.extend(list_num)</span><br><span class="line">print(&apos; extend 方法---&gt;:&apos;,list_all)</span><br><span class="line"></span><br><span class="line">#insert插入一个元素,可以指定index来确定元素的位置</span><br><span class="line">list_alp.insert(2,&apos;sylar&apos;)</span><br><span class="line">print(&apos; insert 方法---&gt;:&apos;,list_alp)</span><br><span class="line"></span><br><span class="line">#index ,打印列表中某个值的index</span><br><span class="line">print(&apos; index 方法---&gt;:&apos;,list_all.index(&apos;a&apos;))</span><br><span class="line"></span><br><span class="line">#pop 删除列表中的元素,默认是最后一个</span><br><span class="line">print(&apos; pop 方法---&gt;:&apos;,&apos; pop---&gt;:&apos;,list_all.pop(),&apos; list_all---&gt;:&apos;,list_all)</span><br><span class="line">print(&apos; pop 方法---&gt;:&apos;,&apos; pop---&gt;:&apos;,list_all.pop(0),&apos; list_all---&gt;:&apos;,list_all)</span><br><span class="line">#remove 删除列表中找到的值,如果有相同的只删除找到的第一个,如果值不存在会引发一个错误</span><br><span class="line">print(&apos; remove 方法---&gt;:&apos;,list_all.remove(&apos;open&apos;),&apos; list_all---&gt;:&apos;,list_all)</span><br><span class="line"></span><br><span class="line">#reverse 将列表的元素进行反向排序</span><br><span class="line">print(&apos; reverse 方法---&gt;:&apos;,list_all.reverse(),list_all)</span><br><span class="line"></span><br><span class="line">#sort按照ASCII码给列表排序</span><br><span class="line">print(&apos; 方法---&gt;:&apos;,list_all.sort(),list_all)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#补充:一个循环列表比较好用的函数enumerate,可以快速获取列表的元素和对应的index</span><br><span class="line">for index,item in enumerate(list_all):</span><br><span class="line">    print(index,item)</span><br><span class="line">#或者:</span><br><span class="line">for index,item in enumerate(list_all,1):</span><br><span class="line">    print(index,item)</span><br></pre></td></tr></table></figure>
<h2 id="元组"><a href="#元组" class="headerlink" title="元组"></a>元组</h2><p>与列表类似的一个数据结构,不同在于元组的元素不能修改.需要注意的是元组的元素不能修改,但是元组的元素的元素是可以修改的.</p>
<h3 id="元组的常用操作切片和列表一样-只是没有了修改元素的方法"><a href="#元组的常用操作切片和列表一样-只是没有了修改元素的方法" class="headerlink" title="元组的常用操作切片和列表一样,只是没有了修改元素的方法"></a>元组的常用操作切片和列表一样,只是没有了修改元素的方法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#申明元组</span><br><span class="line">tup1 = (1,2,3,[&apos;a&apos;,&apos;a&apos;, &apos;b&apos;])</span><br><span class="line"></span><br><span class="line">#切片</span><br><span class="line">print(tup1[0])</span><br><span class="line">print(tup1[0:8:2])</span><br><span class="line">print(tup1[3:-1])</span><br><span class="line">print(tup1[3:])</span><br><span class="line">print(tup1[:3])</span><br><span class="line"></span><br><span class="line">#index获取元素的index值</span><br><span class="line">print(tup1.index(2))</span><br><span class="line"></span><br><span class="line">#count对相同元素进行统计</span><br><span class="line">print(tup1.count(5))</span><br><span class="line"></span><br><span class="line">#补充 元素的元素可以修改,深浅copy的经典案例</span><br><span class="line">tup1[-1][1] = &apos;c&apos;</span><br><span class="line">print(tup1)</span><br></pre></td></tr></table></figure>
<h2 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h2><p>由多个无序且不重复的多个元素组成数据结构.所以集合也没有index.通常用来做去重和关系测试工作!集合也是无序的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">#申明集合使用set函数.可以是列表元组字符串等数据类型,</span><br><span class="line">set_test1 = set(list_num)</span><br><span class="line">print(set_test1)</span><br><span class="line">set_test2 = set([2,4,45,43,3,6,0,98,9,7,6])</span><br><span class="line">print(set_test2)</span><br><span class="line">set_test3 = set(&apos;sylar&apos;)</span><br><span class="line">print(set_test3)</span><br><span class="line">set_test4 = set([1,3,5])</span><br><span class="line">print(&apos;set4&apos;,set_test4)</span><br><span class="line"></span><br><span class="line">#集合常用操作,增删和关系测试</span><br><span class="line"></span><br><span class="line">#add添加元素</span><br><span class="line">set_test1.add(45)</span><br><span class="line">print(set_test1)</span><br><span class="line"></span><br><span class="line">#copy,复制</span><br><span class="line">set_copy = set_test1.copy()</span><br><span class="line">print(set_copy)</span><br><span class="line"></span><br><span class="line">#clear清空</span><br><span class="line">set_copy = set_copy.clear()</span><br><span class="line">print(set_copy)</span><br><span class="line"></span><br><span class="line">#difference差集,在set_test1中有在set_test2没有</span><br><span class="line">a = set_test1.difference(set_test2)</span><br><span class="line">print(a)</span><br><span class="line"></span><br><span class="line">#intersection交集,在set_test1中有在set_test2也有的.</span><br><span class="line">a = set_test1.intersection(set_test2)</span><br><span class="line">print(set_test1 &amp; set_test2)</span><br><span class="line">print(a)</span><br><span class="line"></span><br><span class="line">#isdisjoint,在set_test4和set_test5中都没有相同的元素.则返回True,反之</span><br><span class="line">set_test5 = set([2,4,6])</span><br><span class="line">a = set_test4.isdisjoint(set_test5)</span><br><span class="line">print(a)</span><br><span class="line"></span><br><span class="line">#issuperset父集issubset子集,判断一个集合是不是另外一个集合的父集或者子集.返回值True或者False</span><br><span class="line">a = set_test1.issuperset(set_test4)</span><br><span class="line">print(a)</span><br><span class="line">a = set_test4.issubset(set_test1)</span><br><span class="line">print(a)</span><br><span class="line"></span><br><span class="line">#pop删除并返回任意一个元素</span><br><span class="line">a = set_test1.pop()</span><br><span class="line">print(a)</span><br><span class="line"></span><br><span class="line">#remove删除指定元素</span><br><span class="line">print(set_test1.remove(7))</span><br><span class="line"></span><br><span class="line">#symmetric_difference对称差集,去除两个集合中都有的元素之后的结果</span><br><span class="line">print(set_test1.symmetric_difference(set_test2))</span><br><span class="line"></span><br><span class="line">#union并集两个集合组合到一起的结果</span><br><span class="line">print(set_test1.union(set_test2))</span><br><span class="line"></span><br><span class="line">#update只能把可迭代的对象加入原集合</span><br><span class="line">set_test1.update(set_test5)</span><br><span class="line">print(set_test1)</span><br><span class="line"></span><br><span class="line">#数学运算符&amp;交集,|并集,- 差集,^ 对称差集</span><br><span class="line">print(set_test1 &amp; set_test2)</span><br><span class="line">print(set_test1 | set_test2)</span><br><span class="line">print(set_test1 - set_test2)</span><br><span class="line">print(set_test1 ^ set_test2)</span><br></pre></td></tr></table></figure></p>
<h2 id="补充上面3种数据结构都可以使用的"><a href="#补充上面3种数据结构都可以使用的" class="headerlink" title="补充上面3种数据结构都可以使用的"></a>补充上面3种数据结构都可以使用的</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#in判断元素是否在集合中</span><br><span class="line">for i in set_test2:</span><br><span class="line">    print(i)</span><br><span class="line">if 0 not in list_num:print(&apos;yes&apos;)</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2014/11/16/python基础(四)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sylar">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="sylar's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/11/16/python基础(四)/" itemprop="url">python基础(四)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-11-16T08:55:29+08:00">2014-11-16</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="字符串处理"><a href="#字符串处理" class="headerlink" title="字符串处理"></a>字符串处理</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">msg = &apos;my name is sylar&apos;</span><br></pre></td></tr></table></figure>
<h3 id="capitalize方法-将字符串的首字母大写"><a href="#capitalize方法-将字符串的首字母大写" class="headerlink" title="capitalize方法,将字符串的首字母大写"></a>capitalize方法,将字符串的首字母大写</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print &apos;capitalize方法:&apos;, msg.capitalize()</span><br></pre></td></tr></table></figure>
<h3 id="swapcase方法用于对字符串的大小写字母进行转换。upper"><a href="#swapcase方法用于对字符串的大小写字母进行转换。upper" class="headerlink" title="swapcase方法用于对字符串的大小写字母进行转换。upper"></a>swapcase方法用于对字符串的大小写字母进行转换。upper</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print &apos;swapcase方法:&apos;, msg.swapcase()</span><br><span class="line">print &apos;upper方法:&apos;,msg.upper()</span><br><span class="line">msq_lower = msg.upper()</span><br><span class="line">print &apos;lower方法:&apos;,msq_lower, msq_lower.lower()</span><br></pre></td></tr></table></figure>
<h3 id="所有单词都是以大写开始，其余字母均为小写-见-istitle"><a href="#所有单词都是以大写开始，其余字母均为小写-见-istitle" class="headerlink" title="所有单词都是以大写开始，其余字母均为小写(见 istitle())"></a>所有单词都是以大写开始，其余字母均为小写(见 istitle())</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print &apos;title方法:&apos;,msg.title()</span><br></pre></td></tr></table></figure>
<h3 id="count方法-查询子串出现的次数"><a href="#count方法-查询子串出现的次数" class="headerlink" title="count方法,查询子串出现的次数"></a>count方法,查询子串出现的次数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print msg.count(&apos;name&apos;)</span><br><span class="line">print &apos;count方法:&apos;, msg.count(&apos;a&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="center-用指定的字符-将字符串填充到指定的长度左"><a href="#center-用指定的字符-将字符串填充到指定的长度左" class="headerlink" title="center:用指定的字符,将字符串填充到指定的长度左"></a>center:用指定的字符,将字符串填充到指定的长度左</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print &apos;center方法:&apos;, msg.center(40,&apos;x&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="ljust将原字符串左对齐-并使用空格填充至指定长度的新字符串。如果指定的长度小于原字符串的长度则返回原字符-填充字符，默认为空格。"><a href="#ljust将原字符串左对齐-并使用空格填充至指定长度的新字符串。如果指定的长度小于原字符串的长度则返回原字符-填充字符，默认为空格。" class="headerlink" title="ljust将原字符串左对齐,并使用空格填充至指定长度的新字符串。如果指定的长度小于原字符串的长度则返回原字符.填充字符，默认为空格。"></a>ljust将原字符串左对齐,并使用空格填充至指定长度的新字符串。如果指定的长度小于原字符串的长度则返回原字符.填充字符，默认为空格。</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print &apos;ljust方法:&apos;, msg.ljust(20,&apos;x&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="rjust将原字符串右对齐-并使用空格填充至长度-width-的新字符串。如果指定的长度小于字符串的长度则返回原字符串。"><a href="#rjust将原字符串右对齐-并使用空格填充至长度-width-的新字符串。如果指定的长度小于字符串的长度则返回原字符串。" class="headerlink" title="rjust将原字符串右对齐,并使用空格填充至长度 width 的新字符串。如果指定的长度小于字符串的长度则返回原字符串。"></a>rjust将原字符串右对齐,并使用空格填充至长度 width 的新字符串。如果指定的长度小于字符串的长度则返回原字符串。</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print &apos;rjust方法:&apos;, msg.rjust(20,&apos;x&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="字符编码-decode-encode"><a href="#字符编码-decode-encode" class="headerlink" title="字符编码 #decode,encode"></a>字符编码 #decode,encode</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">msg2 = &apos;我是sylar&apos;</span><br><span class="line">msg3 = u&apos;我是sylar&apos;</span><br><span class="line">print &apos;msg2:&apos;,msg2,type(msg2),&apos;\tmsg3:&apos;, msg3, type(msg3)</span><br><span class="line">msg2 = msg2.decode(&apos;utf-8&apos;)</span><br><span class="line">msg3 = msg3.encode(&apos;utf8&apos;)</span><br><span class="line">print &apos;msg2.decode:&apos;,msg2, type(msg2), &apos;\tmsg3.decode:&apos;,msg3,type(msg3)</span><br></pre></td></tr></table></figure>
<h3 id="endswith-startswith-查找字符串的开始和结束位置的字符串"><a href="#endswith-startswith-查找字符串的开始和结束位置的字符串" class="headerlink" title="endswith,startswith 查找字符串的开始和结束位置的字符串"></a>endswith,startswith 查找字符串的开始和结束位置的字符串</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print msg.endswith(&apos;sylar&apos;)</span><br><span class="line">print msg.endswith(&apos;tom&apos;)</span><br><span class="line">print msg.startswith(&apos;my&apos;)</span><br><span class="line">print msg.startswith(&apos;MY&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="expandtabs-将制表符TAB替换为空格-windows这里不太明显-Linux下面是改变制表符的长度"><a href="#expandtabs-将制表符TAB替换为空格-windows这里不太明显-Linux下面是改变制表符的长度" class="headerlink" title="expandtabs 将制表符TAB替换为空格 windows这里不太明显.Linux下面是改变制表符的长度"></a>expandtabs 将制表符TAB替换为空格 windows这里不太明显.Linux下面是改变制表符的长度</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">msg_expandtabs = &apos;my name is\tsylar&apos;</span><br><span class="line">print &apos;expandtabs方法:&apos;,msg.expandtabs()</span><br></pre></td></tr></table></figure>
<h3 id="find-index方法-index检查是否包含一个子串位置码和find方法一样-但是会报告一个错误返回-find方法不会返回错误返回-1"><a href="#find-index方法-index检查是否包含一个子串位置码和find方法一样-但是会报告一个错误返回-find方法不会返回错误返回-1" class="headerlink" title="find,index方法 #index检查是否包含一个子串位置码和find方法一样,但是会报告一个错误返回!,find方法不会返回错误返回-1"></a>find,index方法 #index检查是否包含一个子串位置码和find方法一样,但是会报告一个错误返回!,find方法不会返回错误返回-1</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print &apos;index方法:&apos;,msg.index(&apos;y&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="print-‘index方法返回错误-’-msg-index-‘sylra’"><a href="#print-‘index方法返回错误-’-msg-index-‘sylra’" class="headerlink" title="print ‘index方法返回错误:’,msg.index(‘sylra’)"></a>print ‘index方法返回错误:’,msg.index(‘sylra’)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print &apos;find方法:&apos;,msg.find(&apos;y&apos;)</span><br><span class="line">print &apos;find方法没找到:&apos;,msg.find(&apos;tom&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="rfind-rindex返回字符串最后一次出现的位置-find-index是第一次出现的位置"><a href="#rfind-rindex返回字符串最后一次出现的位置-find-index是第一次出现的位置" class="headerlink" title="rfind,rindex返回字符串最后一次出现的位置 find,index是第一次出现的位置"></a>rfind,rindex返回字符串最后一次出现的位置 find,index是第一次出现的位置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print &apos;rfind方法:&apos;,msg.rfind(&apos;y&apos;)</span><br><span class="line">print &apos;rindex方法:&apos;,msg.rindex(&apos;y&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="format-格式化输出字符串"><a href="#format-格式化输出字符串" class="headerlink" title="format 格式化输出字符串"></a>format 格式化输出字符串</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">msg.format()</span><br><span class="line">age = &apos;88&apos;</span><br><span class="line">name = &apos;sylar&apos;</span><br><span class="line">print(&apos;&#123;0&#125; is &#123;1&#125; years old. &apos;.format(name, age)) #输出参数</span><br><span class="line">print(&apos;&#123;0&#125; is a girl. &apos;.format(name))</span><br></pre></td></tr></table></figure>
<h3 id="字符串类型判断"><a href="#字符串类型判断" class="headerlink" title="字符串类型判断"></a>字符串类型判断</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">age_num = age.isalnum() #所有字符都是数字或者字母</span><br><span class="line">age_dig = age.isdigit() #所有字符都是数字</span><br><span class="line">age_alp = age.isalpha() #所有字符都是字母</span><br><span class="line">age_low = age.islower() #所有字符都是小写</span><br><span class="line">age_spc = age.isspace() #所有字符都是空白字符</span><br><span class="line">age_tit = age.istitle() #所有单词都是首字母大写，像标题</span><br><span class="line">age_upp = age.isupper() #所有字符都是大写</span><br><span class="line">print &apos;字符串类型判断:&apos;,age_num,age_dig,age_alp,age_low,age_spc,age_tit,age_upp</span><br></pre></td></tr></table></figure>
<h3 id="lstrip方法用于-截掉字符串左边的空格或指定字符。rstrip-删除-string-字符串末尾的指定字符"><a href="#lstrip方法用于-截掉字符串左边的空格或指定字符。rstrip-删除-string-字符串末尾的指定字符" class="headerlink" title="lstrip方法用于 截掉字符串左边的空格或指定字符。rstrip 删除 string 字符串末尾的指定字符,"></a>lstrip方法用于 截掉字符串左边的空格或指定字符。rstrip 删除 string 字符串末尾的指定字符,</h3><h3 id="strip方法用于移除字符串头尾指定的字符（默认为空格）"><a href="#strip方法用于移除字符串头尾指定的字符（默认为空格）" class="headerlink" title="strip方法用于移除字符串头尾指定的字符（默认为空格）"></a>strip方法用于移除字符串头尾指定的字符（默认为空格）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">msg_strip = &apos;xxxkslfsjflsjxxx&apos;</span><br><span class="line">print &apos;lstrip方法:&apos;, msg_strip.lstrip(&apos;x&apos;)</span><br><span class="line">print &apos;rstrip方法:&apos;,msg_strip.rstrip(&apos;x&apos;)</span><br><span class="line">print &apos;strip方法:&apos;,msg_strip.strip(&apos;x&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="截取指定长度的字符串，原字符串右对齐，前面填充0"><a href="#截取指定长度的字符串，原字符串右对齐，前面填充0" class="headerlink" title="截取指定长度的字符串，原字符串右对齐，前面填充0"></a>截取指定长度的字符串，原字符串右对齐，前面填充0</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print &apos;zfill方法:&apos;,msg.zfill(10)</span><br></pre></td></tr></table></figure>
<h3 id="replace方法-替换字符串中的字符串-如果指定第三个参数count，则替换不超过-count-次"><a href="#replace方法-替换字符串中的字符串-如果指定第三个参数count，则替换不超过-count-次" class="headerlink" title="replace方法 替换字符串中的字符串,如果指定第三个参数count，则替换不超过 count 次"></a>replace方法 替换字符串中的字符串,如果指定第三个参数count，则替换不超过 count 次</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print &apos;replace方法&apos;,msg.replace(&apos;is&apos;,&apos;\033[31;1mis\033[0m&apos;)</span><br><span class="line">print &apos;replace方法&apos;,msg.replace(&apos;is&apos;,&apos;\033[31;1m%s\033[0m&apos;%name)</span><br></pre></td></tr></table></figure>
<h3 id="join将序列中的元素以指定的字符连接生成一个新的字符串"><a href="#join将序列中的元素以指定的字符连接生成一个新的字符串" class="headerlink" title="join将序列中的元素以指定的字符连接生成一个新的字符串"></a>join将序列中的元素以指定的字符连接生成一个新的字符串</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">join_list = [&apos;1&apos;,&apos;2&apos;,&apos;3&apos;,&apos;4&apos;]</span><br><span class="line">msg_join =&apos;&apos;.join(join_list)</span><br><span class="line">print &apos;join方法:&apos;, msg_join ,type(msg_join)</span><br></pre></td></tr></table></figure>
<h3 id="split-rsplit-将字符串格式化为列表-不指定切割字符默认为空格-还可以指定切割次数-split-从左往右-rsplit从右向左（默认为空格）"><a href="#split-rsplit-将字符串格式化为列表-不指定切割字符默认为空格-还可以指定切割次数-split-从左往右-rsplit从右向左（默认为空格）" class="headerlink" title="split,rsplit 将字符串格式化为列表,不指定切割字符默认为空格,还可以指定切割次数,split 从左往右,rsplit从右向左（默认为空格）"></a>split,rsplit 将字符串格式化为列表,不指定切割字符默认为空格,还可以指定切割次数,split 从左往右,rsplit从右向左（默认为空格）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">msg_spt = msg.split(&apos;y&apos;,1)</span><br><span class="line">print msg_spt,type(msg_spt),msg_spt[0] #当列表内有中文是,直接打印列表返回Unicode编码,取值时则返回中文</span><br><span class="line">msg_spt = msg.rsplit(&apos;y&apos;,1)</span><br><span class="line">print msg_spt,type(msg_spt),msg_spt[0]</span><br></pre></td></tr></table></figure>
<h3 id="partition-方法-将字符串划为元祖-根据指定的分隔符将字符串进行分割。"><a href="#partition-方法-将字符串划为元祖-根据指定的分隔符将字符串进行分割。" class="headerlink" title="partition 方法 将字符串划为元祖 根据指定的分隔符将字符串进行分割。"></a>partition 方法 将字符串划为元祖 根据指定的分隔符将字符串进行分割。</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print &apos;partition方法:&apos;, msg.partition(&apos;y&apos;), type(msg.partition(&apos;y&apos;))</span><br><span class="line">print &apos;rpartition方法:&apos;, msg.rpartition(&apos;y&apos;),type(msg.rpartition(&apos;y&apos;))</span><br></pre></td></tr></table></figure>
<h3 id="splitlines按照行分隔，返回一个包含各行作为元素的列表，如果-num-指定则仅切片-num-个行"><a href="#splitlines按照行分隔，返回一个包含各行作为元素的列表，如果-num-指定则仅切片-num-个行" class="headerlink" title="splitlines按照行分隔，返回一个包含各行作为元素的列表，如果 num 指定则仅切片 num 个行"></a>splitlines按照行分隔，返回一个包含各行作为元素的列表，如果 num 指定则仅切片 num 个行</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">msg_splitlines=&apos;1\n2\n3\n4&apos;</span><br><span class="line">print &apos;splitlines&apos;,msg_splitlines.splitlines()</span><br></pre></td></tr></table></figure>
<h3 id="translate-根据参数table给出的表-包含-256-个字符-转换字符串的字符-要过滤掉的字符放到-del-参数中。"><a href="#translate-根据参数table给出的表-包含-256-个字符-转换字符串的字符-要过滤掉的字符放到-del-参数中。" class="headerlink" title="translate()根据参数table给出的表(包含 256 个字符)转换字符串的字符, 要过滤掉的字符放到 del 参数中。"></a>translate()根据参数table给出的表(包含 256 个字符)转换字符串的字符, 要过滤掉的字符放到 del 参数中。</h3>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2014/11/12/python基础(三)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sylar">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="sylar's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/11/12/python基础(三)/" itemprop="url">python基础(三)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-11-12T08:55:29+08:00">2014-11-12</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="loops循环语句"><a href="#loops循环语句" class="headerlink" title="loops循环语句"></a>loops循环语句</h1><h4 id="一-if语句-if语句配合else使用-可以没有else"><a href="#一-if语句-if语句配合else使用-可以没有else" class="headerlink" title="一 if语句,if语句配合else使用,可以没有else."></a>一 if语句,if语句配合else使用,可以没有else.</h4><ol>
<li>单分支if语句</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">age = input(&apos;Age:&apos;)</span><br><span class="line">password = &apos;67&apos;</span><br><span class="line">if age == password:</span><br><span class="line">    print(&apos;==&apos;)</span><br></pre></td></tr></table></figure>
<ol>
<li>多分支语句</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">age = int(input(&apos;Age:&apos;))</span><br><span class="line">password = 67</span><br><span class="line">if age == password:</span><br><span class="line">    print(&apos;==&apos;)</span><br><span class="line">if age &gt; password:</span><br><span class="line">    print(&apos;&gt;&apos;)</span><br><span class="line">if age &lt; password:</span><br><span class="line">    print(&apos;&lt;&apos;)</span><br><span class="line">else:</span><br><span class="line">    print(&apos;age error&apos;)</span><br><span class="line">#这个例子并不符合逻辑,只是为了举例</span><br></pre></td></tr></table></figure>
<p>需要注意的是else语句是否执行,是判断同级上一个if语句条件不满足就执行else,在上一个if前面的if并不影响else的执行.所以就应该使用elif</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">age = int(input(&apos;Age:&apos;))</span><br><span class="line">password = 67</span><br><span class="line">if age == password:</span><br><span class="line">    print(&apos;==&apos;)</span><br><span class="line">elif age &gt; password:</span><br><span class="line">    print(&apos;&gt;&apos;)</span><br><span class="line">elif age &lt; password:</span><br><span class="line">    print(&apos;&lt;&apos;)</span><br><span class="line">else:</span><br><span class="line">    print(&apos;age error&apos;)</span><br></pre></td></tr></table></figure>
<h4 id="二-while语句-无限循环使用break语句跳出-可以没有跳出语句-但是就要注意设置while的跳出条件-不然会死循环"><a href="#二-while语句-无限循环使用break语句跳出-可以没有跳出语句-但是就要注意设置while的跳出条件-不然会死循环" class="headerlink" title="二 while语句,无限循环使用break语句跳出(可以没有跳出语句,但是就要注意设置while的跳出条件,不然会死循环)"></a>二 while语句,无限循环使用break语句跳出(可以没有跳出语句,但是就要注意设置while的跳出条件,不然会死循环)</h4><ol>
<li>满足自定条件跳出</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">count = 0</span><br><span class="line">while True:</span><br><span class="line">    count = count + 1</span><br><span class="line">    print(count)</span><br><span class="line">    if count == 20:</span><br><span class="line">        break</span><br></pre></td></tr></table></figure>
<ol>
<li>定义退出的条件</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">count = 0</span><br><span class="line">while count &lt; 10:</span><br><span class="line">    count = count + 1</span><br><span class="line">    print(count)</span><br></pre></td></tr></table></figure>
<ol>
<li>while也可以配合else执行一些特殊的代码</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">password = 67</span><br><span class="line">count = 0</span><br><span class="line">while count &lt; 5:</span><br><span class="line">    count = count + 1</span><br><span class="line">    age = input(&apos;Age:&apos;)</span><br><span class="line">    if age.isdigit():</span><br><span class="line">        age = int(age)</span><br><span class="line">        if age == password:</span><br><span class="line">            print(&apos;Very Good!&apos;)</span><br><span class="line">            break</span><br><span class="line">        elif age &gt; password:</span><br><span class="line">            print(&apos;&gt;&apos;)</span><br><span class="line">        else:</span><br><span class="line">            print(&apos;&lt;&apos;)</span><br><span class="line">    else:</span><br><span class="line">        print(&apos;The input is not the digit, the program exits&apos;)</span><br><span class="line">        break</span><br><span class="line">else:</span><br><span class="line">    print(&apos;Try it too many times&apos;)</span><br><span class="line">print(&apos;Always executed&apos;)</span><br></pre></td></tr></table></figure>
<h4 id="三-for语句类似while语句-for是遍历一个条件-不会形成死循环-相对-所以可以不用设置退出条件"><a href="#三-for语句类似while语句-for是遍历一个条件-不会形成死循环-相对-所以可以不用设置退出条件" class="headerlink" title="三 for语句类似while语句,for是遍历一个条件,不会形成死循环(相对)所以可以不用设置退出条件."></a>三 for语句类似while语句,for是遍历一个条件,不会形成死循环(相对)所以可以不用设置退出条件.</h4><ol>
<li>简单的for循环,</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">for i in range(10):</span><br><span class="line">    i = i + 1</span><br><span class="line">    print(i)</span><br><span class="line">    </span><br><span class="line">for i in [1, 6, 22, 48, 10, 8, 33 ]:</span><br><span class="line">    print(i)</span><br><span class="line">    if i == 8:</span><br><span class="line">        break</span><br></pre></td></tr></table></figure>
<ol>
<li>合理使用while和for能优化代码</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">passwd = 67</span><br><span class="line">for i in range(10):</span><br><span class="line">    age = input(&apos;Age: &apos;)</span><br><span class="line">    if age.isdigit():</span><br><span class="line">        age = int(age)</span><br><span class="line">        if age &gt;passwd:</span><br><span class="line">            print(&apos;&gt;&apos;)</span><br><span class="line">        elif age &lt; passwd:</span><br><span class="line">            print(&apos;&lt;&apos;)</span><br><span class="line">        else:</span><br><span class="line">            print(&apos;Very Good!&apos;)</span><br><span class="line">            break</span><br><span class="line">else:</span><br><span class="line">    print(&apos;The input is not the digit, the program exits&apos;)</span><br><span class="line">print(&apos;Always executed&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="补充"><a href="#补充" class="headerlink" title="补充:"></a>补充:</h3><ol>
<li>continue和break的区别,continue是跳过本次循环进行下一次循环,break是跳出整个循环语句</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">count = 100</span><br><span class="line">for i in range(10):</span><br><span class="line">    print(&apos;In this loop count is :&apos;,count)</span><br><span class="line">    a = input(&apos;Whatever:&apos;)</span><br><span class="line">    if a == &apos;c&apos;:</span><br><span class="line">        continue</span><br><span class="line">    if a == &apos;b&apos;:</span><br><span class="line">        break</span><br><span class="line">    if a == &apos;q&apos;:</span><br><span class="line">        exit()</span><br><span class="line">    count = count + 1</span><br><span class="line">print(&apos;Other things!&apos;)</span><br></pre></td></tr></table></figure>
<ol>
<li>return跳出多重循环(其实ruturn不是这个作用,但是现在暂时只能想到这个办法比较简单)</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">count = 0</span><br><span class="line">for i in range(10):</span><br><span class="line">    print(&apos;-loop- i: &apos;,i)</span><br><span class="line">    for j in range(10):</span><br><span class="line">        print(&apos;--loop-- j: &apos;, j)</span><br><span class="line">        for k in range(10):</span><br><span class="line">            print(&apos;---loop--- k:&apos;, k)</span><br><span class="line">            count = count + 1</span><br><span class="line">print(count)</span><br></pre></td></tr></table></figure>
<p>这个循环会让count累加到1000,假如我们给定到达888的时候跳出该怎么做呢?<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">flag = False</span><br><span class="line">count = 0</span><br><span class="line">while not flag:</span><br><span class="line">    for i in range(10):</span><br><span class="line">        print(&apos;-loop- i: &apos;,i)</span><br><span class="line">        while not flag:</span><br><span class="line">            for j in range(10):</span><br><span class="line">                print(&apos;--loop-- j: &apos;, j)</span><br><span class="line">                while not flag:</span><br><span class="line">                    for k in range(10):</span><br><span class="line">                        print(&apos;---loop--- k:&apos;, k)</span><br><span class="line">                        count = count + 1</span><br><span class="line">                        if count == 888:</span><br><span class="line">                            print(count)</span><br><span class="line">                            flag = True</span><br></pre></td></tr></table></figure></p>
<p>上面这种做法,我们可以看到i和j还是循环多了两次,因此在每层循环必须都判断一下count的数值.<br>正确的做法是封装一个函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">def mul_loops():</span><br><span class="line">    flag = 0</span><br><span class="line">    for i in range(10):</span><br><span class="line">        print(&apos;-loop- i: &apos;, i)</span><br><span class="line">        for j in range(10):</span><br><span class="line">            print(&apos;--loop-- j: &apos;, j)</span><br><span class="line">            for k in range(10):</span><br><span class="line">                print(&apos;---loop--- k:&apos;, k)</span><br><span class="line">                if flag == 888:</span><br><span class="line">                    return flag</span><br><span class="line">                flag = flag + 1</span><br><span class="line">a = mul_loops()</span><br><span class="line">print(a)</span><br></pre></td></tr></table></figure></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2014/11/09/python基础(二)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sylar">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="sylar's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/11/09/python基础(二)/" itemprop="url">python基础(二)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-11-09T08:55:29+08:00">2014-11-09</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="编码-深浅copy"><a href="#编码-深浅copy" class="headerlink" title="编码,深浅copy"></a>编码,深浅copy</h1><h3 id="encode-decode在python2中使用的一些迷糊-python3中更容易理解"><a href="#encode-decode在python2中使用的一些迷糊-python3中更容易理解" class="headerlink" title="encode,decode在python2中使用的一些迷糊,python3中更容易理解"></a>encode,decode在python2中使用的一些迷糊,python3中更容易理解</h3><p>要理解encode和decode,首先我们要明白编码,字符和二进制的相关概念,简单来说,计算机的产生和设计只能进行二进制的运算,聪明的先辈们发明了ASCii编码用不同的二进制来表示不同英文字符实现.后来由于各国计算机的普及和推广,由于语言的原因产生了:Unicode,GB2312,UTF-8等不同的字符编码集.</p>
<p>在python3中对字符数据是使用的str类型,二进制数据使用的是bytes.而我们要让计算机能够处理字符串就必须能将字符转换为二进制数据(我们在idle中编写的代码这个步骤由解释器处理了).有时候为了我们在编写代码时能灵活的处理数据,就需要字符和二进制数据的转换.就产生了encode和decode方法,两者的关系如下:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">#str-&gt;bytes:encode编码</span><br><span class="line">#bytes-&gt;str:decode解码</span><br><span class="line">str_a = str(&apos;我是二进制&apos;)</span><br><span class="line"></span><br><span class="line">#编码,</span><br><span class="line">bytes_uft8 = str_a.encode(encoding=&apos;utf-8&apos;)       #字符串转换为utf-8的二进制</span><br><span class="line">print(bytes_uft8,type(bytes_uft8))</span><br><span class="line"></span><br><span class="line">bytes_gbk = str_a.encode(encoding=&apos;gbk&apos;)          #字符串转换为gbk的二进制</span><br><span class="line">print(bytes_gbk,type(bytes_gbk))</span><br><span class="line"></span><br><span class="line">#解码</span><br><span class="line">str_uft8 = bytes_uft8.decode(encoding=&apos;utf-8&apos;)   #二进制转换为utf的字符串</span><br><span class="line">print(str_uft8,type(str_uft8))</span><br><span class="line"></span><br><span class="line">str_gbk = bytes_gbk.decode(encoding=&apos;gbk&apos;)       #二进制转换为gbk的字符串</span><br><span class="line">print(str_gbk,type(str_gbk))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#保存到文件中,utf-8.txt将编码换为GBK会乱码,是因为GBK不兼容utf8.</span><br><span class="line">#但是utf-8兼容gbk,所以gbk.txt用utf-8不会乱码.</span><br><span class="line">with open(&apos;gbk.txt&apos;,&apos;wb&apos;) as f,open(&apos;utf-8.txt&apos;,&apos;wb&apos;) as f1:</span><br><span class="line">    f.write(bytes_gbk)</span><br><span class="line">    f1.write(bytes_uft8)</span><br></pre></td></tr></table></figure>
<p>编码是将字符串转换成二进制编码.<br>解码是将二进制编码转换为字符串.<br>python2中默认使用ASCII编码,python3使用Unicode<br>获取系统默认编码:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import sys</span><br><span class="line">print(sys.getdefaultencoding())</span><br></pre></td></tr></table></figure></p>
<p>简单来说就是Unicode是二进制字符编码,兼容GBK,UTF-8,所有字符编码要转换都需要通过Unicode来作为桥梁来相互转换.在python解释器使用的字符编码是Unicode.中国使用的操作系统默认编码是GBK.而我们常用程序又有可能使用的其它国家的编码.所以这之间就存在一个编码和解码的过程.</p>
<p>所以我们记住utf8的python字符可以转化为gbk,big5等编码转换,但是要吧gbk,big5等编码转换为utf8必须要知道字符原来使用的那种编码集.不知道原来的字符集就没有办法转化为utf8.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#打开test.txt切换编码为utf8,gbk,big5可以看到不同效果</span><br><span class="line">a = &apos;中國&apos;</span><br><span class="line">b_utf8 =a.encode(encoding=&apos;utf8&apos;)</span><br><span class="line">b_big5 =a.encode(encoding=&apos;big5&apos;)</span><br><span class="line">b_gbk = a.encode(encoding=&apos;gbk&apos;)</span><br><span class="line"></span><br><span class="line">with open(&apos;test.txt&apos;,&apos;wb&apos;) as f:</span><br><span class="line">    f.write(b_utf8)</span><br><span class="line">    f.write(b_big5)</span><br><span class="line">    f.write(b_gbk)</span><br></pre></td></tr></table></figure></p>
<p>最后:<br>1, python3是支持直接使用UTF-8(因为UTF-8是Unicode的一个扩展集,能够自动转换),但是在不同语言系的操作系统中可能会乱码.所以知道为什么有时候编写程序的时候全是乱码b’\xxx\xxx’的数据了吧,这是字符文本在Unicode中的编码<br>2, 关于为什么输出的是\xxx的数据.这个又涉及到二进制和16进制的转换了,我猜想应该是Unicode是使用16进制来记录二进制.<br>3, html中的utf8使用/%做占位符,python中的utf8使用\x做占位符.所以网页中的链接中的汉字在python中要特殊处理<br>4,要解码必须要知道原来的字符是使用哪种文字编码.</p>
<h3 id="深浅copy"><a href="#深浅copy" class="headerlink" title="深浅copy"></a>深浅copy</h3><p>浅copy的方式,浅copy也是一种面向对象的实现,初学者可以这样去理解浅copy只是复制了对象的内存地址,对于一些复杂的数据类型对象使用的内存地址进行.<br>当列表中包含一个子列表时,复制的也是这个子列表的内存地址.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#申明一个列表</span><br><span class="line">human = [&apos;name&apos;,[&apos;age&apos;,18]]</span><br><span class="line">#使用几种浅copy方式复制数据</span><br><span class="line">p1 = human[:] #切片的方式</span><br><span class="line">p2 = list(human) #使用内置函数</span><br><span class="line"></span><br><span class="line">import copy</span><br><span class="line">p3 = copy.copy(human) #使用copy模块浅copy方法</span><br><span class="line"></span><br><span class="line">p4 = human.copy() #使用列表的copy方法,其实也是引用的copy模块浅copy的方法</span><br></pre></td></tr></table></figure></p>
<p>这时候我们假如human是同一个生日的同学类型.他们的name属性不一致,但是随着时间的变化,年龄都会增长,所以他们的age的变化都会一致</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">p1[0] = &apos;dongxie&apos;</span><br><span class="line">p2[0] = &apos;xidu&apos;</span><br><span class="line">p3[0] = &apos;nandi&apos;</span><br><span class="line">p4[0] = &apos;beigai&apos;</span><br><span class="line">print(p1,p2,p3,p4)</span><br><span class="line">#这时候不管修改谁的年龄,大家年龄都会变</span><br><span class="line">p1[1][1] = 23</span><br><span class="line">print(p1,p2,p3,p4)</span><br></pre></td></tr></table></figure>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2014/11/07/python基础(一)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sylar">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="sylar's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/11/07/python基础(一)/" itemprop="url">python基础(一)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2014-11-07T08:55:29+08:00">2014-11-07</time>
            

            
            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="1-python文件主程序入口文件一般来要申明python路径-编码信息-作者说明等"><a href="#1-python文件主程序入口文件一般来要申明python路径-编码信息-作者说明等" class="headerlink" title="1. python文件主程序入口文件一般来要申明python路径,编码信息,作者说明等:"></a>1. python文件主程序入口文件一般来要申明python路径,编码信息,作者说明等:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python</span><br><span class="line"># _*_ coding: utf-8 _*_</span><br><span class="line"># Author: sylar</span><br><span class="line"># Date:xxxx</span><br><span class="line"># Dec: xxx</span><br></pre></td></tr></table></figure>
<h3 id="2-python中相同的内存数据只会保存一份-变量赋值是通过复制内存地址进行-A复制给B-B是将A的内存地址复制一份-A重新赋值内存地址将变化-所以B不会改变-因此造成了深浅copy的问题"><a href="#2-python中相同的内存数据只会保存一份-变量赋值是通过复制内存地址进行-A复制给B-B是将A的内存地址复制一份-A重新赋值内存地址将变化-所以B不会改变-因此造成了深浅copy的问题" class="headerlink" title="2. python中相同的内存数据只会保存一份,变量赋值是通过复制内存地址进行.A复制给B.B是将A的内存地址复制一份,A重新赋值内存地址将变化,所以B不会改变.(因此造成了深浅copy的问题.)"></a>2. python中相同的内存数据只会保存一份,变量赋值是通过复制内存地址进行.A复制给B.B是将A的内存地址复制一份,A重新赋值内存地址将变化,所以B不会改变.(因此造成了深浅copy的问题.)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a = 1</span><br><span class="line">b = a</span><br><span class="line">print(id(a),id(b))</span><br><span class="line">print(a,b)</span><br><span class="line">a = a + 1</span><br><span class="line">print(id(a),id(b))</span><br><span class="line">print(a,b)</span><br></pre></td></tr></table></figure>
<h3 id="3-python3和python2的区别-比较简单的-复杂的会在后面慢慢深入"><a href="#3-python3和python2的区别-比较简单的-复杂的会在后面慢慢深入" class="headerlink" title="3. python3和python2的区别(比较简单的,复杂的会在后面慢慢深入):"></a>3. python3和python2的区别(比较简单的,复杂的会在后面慢慢深入):</h3><p>(1)python2默认已unicode编码处理代码,python3默认以utf-8处理代码.<br>(2)python3没有raw_input只input,python2中不建议使用input<br>(3)python3不能使用&lt;&gt;,只能使用!=来表示不等于  </p>
<h3 id="4-python中单引号’和双引号”作用完全一样"><a href="#4-python中单引号’和双引号”作用完全一样" class="headerlink" title="4. python中单引号’和双引号”作用完全一样."></a>4. python中单引号’和双引号”作用完全一样.</h3><h3 id="5-变量命名只能使用字母数字和下划线-多个单词组合的变量名建议用-分割单词-全大写变量名为常量-约定俗成-变量本身是可以修改的"><a href="#5-变量命名只能使用字母数字和下划线-多个单词组合的变量名建议用-分割单词-全大写变量名为常量-约定俗成-变量本身是可以修改的" class="headerlink" title="5. 变量命名只能使用字母数字和下划线,多个单词组合的变量名建议用_分割单词.全大写变量名为常量(约定俗成,变量本身是可以修改的)."></a>5. 变量命名只能使用字母数字和下划线,多个单词组合的变量名建议用_分割单词.全大写变量名为常量(约定俗成,变量本身是可以修改的).</h3><p>####6. 字符串格式化方法<br>(1)+号拼接</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">name = input(&apos;name:&apos;)</span><br><span class="line">age = input(&apos;age:&apos;)</span><br><span class="line">info = &apos;&apos;&apos;</span><br><span class="line">------------info of &apos;&apos;&apos; + name + &apos;&apos;&apos;------------</span><br><span class="line">Name: &apos;&apos;&apos; + name + &apos;&apos;&apos;</span><br><span class="line">Age: &apos;&apos;&apos; + age</span><br><span class="line"></span><br><span class="line">print(info)</span><br></pre></td></tr></table></figure>
<p>(2)%s格式化输出(注意%d,%s,%f的数据类型不同.input会默认接受数据类型为字符串)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">name = input(&apos;name:&apos;)</span><br><span class="line">age = input(&apos;age:&apos;)</span><br><span class="line">info = &apos;&apos;&apos;</span><br><span class="line">------------info of  %s------------</span><br><span class="line">Name: %s</span><br><span class="line">Age: %s</span><br><span class="line">&apos;&apos;&apos;%(name,name,age)</span><br><span class="line"></span><br><span class="line">print(info)</span><br></pre></td></tr></table></figure>
<p>(3)format方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">name = input(&apos;name:&apos;)</span><br><span class="line">age = input(&apos;age:&apos;)</span><br><span class="line">info = &apos;&apos;&apos;</span><br><span class="line">------------info of  &#123;who&#125;------------</span><br><span class="line">Name: &#123;who&#125;</span><br><span class="line">Age: &#123;how_old&#125;</span><br><span class="line">&apos;&apos;&apos;.format(who=name,how_old=age)</span><br><span class="line"></span><br><span class="line">print(info)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#不建议使用</span><br><span class="line">name = input(&apos;name:&apos;)</span><br><span class="line">age = input(&apos;age:&apos;)</span><br><span class="line">info = &apos;&apos;&apos;</span><br><span class="line">------------info of  &#123;0&#125;------------</span><br><span class="line">Name: &#123;0&#125;</span><br><span class="line">Age: &#123;1&#125;</span><br><span class="line">&apos;&apos;&apos;.format(name,age)</span><br><span class="line">print(info)</span><br></pre></td></tr></table></figure>
<h3 id="7-type查看数据类型-help查看帮助-dir查看内置方法-id查看对象在解释器中的内存地址"><a href="#7-type查看数据类型-help查看帮助-dir查看内置方法-id查看对象在解释器中的内存地址" class="headerlink" title="7. type查看数据类型,help查看帮助, dir查看内置方法,id查看对象在解释器中的内存地址"></a>7. type查看数据类型,help查看帮助, dir查看内置方法,id查看对象在解释器中的内存地址</h3>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2013/12/01/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sylar">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="sylar's blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2013/12/01/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2013-12-01T08:55:29+08:00">2013-12-01</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.gif"
                alt="sylar" />
            
              <p class="site-author-name" itemprop="name">sylar</p>
              <p class="site-description motion-element" itemprop="description">learn</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">12</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                    <span class="site-state-item-count">1</span>
                    <span class="site-state-item-name">分类</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                    <span class="site-state-item-count">1</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">sylar</span>

  

  
</div>




  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Pisces</a> v6.0.6</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.0.6"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.0.6"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.0.6"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.0.6"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.0.6"></script>



  



	





  





  










  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  
  

  

  

  

  

</body>
</html>
